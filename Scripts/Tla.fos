// FOS Common Sort -8

///@ Setting bool IsConnected
///@ Setting bool IsConnecting
///@ Setting bool IsUpdating
///@ Setting bool DebugInfo
///@ Setting bool MapZooming
///@ Setting uint Breaktime
///@ Setting uint ScriptRunSuspendTimeout
///@ Setting uint ScriptRunMessageTimeout
///@ Setting uint BruteForceTick
///@ Setting uint CritterIdleTick
///@ Setting bool RtAlwaysRun
///@ Setting uint BagRefreshTime
///@ Setting uint WisperDist
///@ Setting uint AccountPlayTime
///@ Setting bool HidePassword
///@ Setting bool DisableLMenu
///@ Setting uint DamageHitDelay
///@ Setting bool CustomItemCost
///@ Setting bool GmapActive      // активна ли глобальная карта и все ли следующие нижеприведенные переменные корректны
///@ Setting bool GmapWait        // включен режим ожидания ответа о подтверждении энкаунтера
///@ Setting float GmapZoom       // текущий масштаб, не забывайте учитывать его при рисовании на карте
///@ Setting int GmapGroupX
///@ Setting int GmapGroupY
///@ Setting int GmapOffsetX      // смещение карты от нулевой координаты (верхний-левый угол)
///@ Setting int GmapOffsetY
///@ Setting int GmapGroupCurX    // координаты группы игрока
///@ Setting int GmapGroupCurY
///@ Setting int GmapGroupToX     // координаты точки назначения
///@ Setting int GmapGroupToY
///@ Setting float GmapGroupSpeed // текущая скорость передвижения

///@ Event Server Game CritterUseItem(Critter cr, Item item, uint param)
///@ Event Server Game CritterUseItemOn(Critter cr, Item item, Critter onCritter, Item onItem, StaticItem onScenery, uint param)
///@ Event Server Critter UseItem(Item item, uint param)
///@ Event Server Critter UseItemOn(Item item, Critter onCritter, Item onItem, StaticItem onScenery, uint param)
///@ Event Server Critter SomeUseItemOnMe(Critter whoUse, Item item, uint param)
///@ Event Server Critter SomeCritterUseItem(Critter fromCr, Item item, Critter onCritter, Item onItem, StaticItem onScenery, uint param) Deferred
///@ Event Server Item CritterUse(Critter cr, uint param)
///@ Event Server Item CritterUseOn(Critter cr, Critter onCritter, Item onItem, StaticItem onScenery, uint param)
///@ Event Server Item CritterUseOnSelf(Critter cr, Item usedItem, uint param)

///@ Event Server Game CritterUseSkill(Critter cr, CritterProperty skill)
///@ Event Server Game CritterUseSkillOn(Critter cr, CritterProperty skill, Critter onCritter, Item onItem, StaticItem onScenery)
///@ Event Server Critter UseSkill(Critter cr, CritterProperty skill)
///@ Event Server Critter UseSkillOn(Critter cr, CritterProperty skill, Critter onCritter, Item onItem, StaticItem onScenery)
///@ Event Server Critter SomeUseSkillOnMe(Critter whoUse, CritterProperty skill)
///@ Event Server Critter SomeCritterUseSkill(Critter fromCr, CritterProperty skill, Critter onCritter, Item onItem, StaticItem onScenery) Deferred
///@ Event Server Item CritterUseSkill(Critter cr, CritterProperty skill)

///@ Event Server Game CritterReloadWeapon(Critter cr, Item weapon, Item ammo)

///@ Event Server Game CritterAttack(Critter cr, Critter target, Item weapon, uint8 weaponMode, ItemProto ammo)
///@ Event Server Game CritterAttacked(Critter cr, Critter attacker)
///@ Event Server Critter Attacked(Critter attacker)
///@ Event Server Critter SomeCritterAttack(Critter attacker, Critter target, Item weapon, uint8 weaponMode, ItemProto ammo)
///@ Event Server Critter SomeCritterAttacked(Critter target, Critter attacker)

///@ Event Server Game CritterStealing(Critter cr, Critter thief, Item item, uint itemCount)
///@ Event Server Critter Stealing(Critter thief, Item item, uint itemCount)
///@ Event Server Critter SomeCritterStealing(Critter thief, Critter fromCr, Item item, uint count)

///@ Event Server Game ItemsCollection(int collection, Item[]& items)
///@ Event Server Game ItemsBarter(Item[] saleItems, uint[] saleItemsCount, Item[] buyItems, uint[] buyItemsCount, Critter player, Critter npc)
///@ Event Server Game ContainerChanged()

///@ Event Client Game CritterGetUseApCost(Critter cr, Item item, uint8 itemMode, uint apCost)
///@ Event Server Game CritterGetUseApCost(Critter cr, Item item, uint8 itemMode, uint apCost)

///@ Event Server Critter Kill(Critter victim)
///@ Event Server Game CritterDead(Critter cr, Critter killer)
///@ Event Server Map CritterDead(Critter cr, Critter killer)
///@ Event Server Critter Dead(Critter killer)
///@ Event Server Critter SomeCritterDead(Critter killed, Critter killer) Deferred
///@ Event Server Critter Respawn()

///@ Event Client Game CritterSneak(Critter cr)

///@ Event Server Critter SomeCritterDropItem(Critter fromCr, Item item)
///@ Event Server Critter SomeCritterMoveItem(Critter fromCr, Item item, uint8 itemMode)

///@ Event Server Game LocationEnter(Location loc, Critter[] group, uint8 entrance)

///@ Event Server Game MapLoopEx1(Map map)
///@ Event Server Game MapLoopEx2(Map map)
///@ Event Server Game MapLoopEx3(Map map)
///@ Event Server Game MapLoopEx4(Map map)

///@ Event Common Game GlobalMapCheckEntranceAllowed(Location loc, Critter[] critters, uint8 entrance)
///@ Event Server Game GlobalMapProcess(int type, Critter cr, Item car, float x, float y, float toX, float toY, float speed, uint encounterDescriptor, bool waitForAnswer)
///@ Event Server Game GlobalMapInvite(Critter cr, Item car, uint encounterDescriptor, int combatMode, uint mapId, uint16 hexX, uint16 hexY, uint8 dir)

///@ Property Game Public string[] BestEScores

// message specs
// note: MessageSpecifications::AimedHit must be MessageSpecifications::Hit+1, MessageSpecifications::CritAimedHit must be MessageSpecifications::CritHit+1
// Message scpecifications
///@ Enum MessageSpecifications Miss = 1              // length 2: 1   WHO_ID
///@ Enum MessageSpecifications CritMiss = 2          // length 3: 2   WHO_ID  EFF
///@ Enum MessageSpecifications CritMissDamage = 3    // length 4: 3   WHO_ID  EFF     DAMAGE
///@ Enum MessageSpecifications Hit = 4               // length 3: 4   WHO_ID  DAMAGE
///@ Enum MessageSpecifications AimedHit = 5          // length 4: 5   WHO_ID  LOC     DAMAGE
///@ Enum MessageSpecifications CritHit = 6           // length 5: 6   WHO_ID  DAMAGE  EFF     MESSAGE
///@ Enum MessageSpecifications CritAimedHit = 7      // length 6: 7   WHO_ID  LOC     DAMAGE  EFF      MESSAGE
///@ Enum MessageSpecifications HitDead = 8           // length 3: 8   WHO_ID  DAMAGE
///@ Enum MessageSpecifications AimedHitDead = 9      // length 4: 9   WHO_ID  LOC     DAMAGE
///@ Enum MessageSpecifications CritHitDead = 10      // length 4: 10  WHO_ID  DAMAGE  MESSAGE
///@ Enum MessageSpecifications CritAimedHitDead = 11 // length 5: 11  WHO_ID  LOC     DAMAGE  MESSAGE
///@ Enum MessageSpecifications Oops = 12             // length 3: 12  WH1_ID  WH2_ID
///@ Enum MessageSpecifications HitRandomly = 13      // length 2: 13  WHO_ID

#define HASHI #(entryNumber) hstring("" + entryNumber)

// Critical hit/miss flags
#define HF_KNOCKOUT             (0x00000001)
#define HF_KNOCKDOWN            (0x00000002)
#define HF_CRIPPLED_LEFT_LEG    (0x00000004)
#define HF_CRIPPLED_RIGHT_LEG   (0x00000008)
#define HF_CRIPPLED_LEFT_ARM    (0x00000010)
#define HF_CRIPPLED_RIGHT_ARM   (0x00000020)
#define HF_BLINDED              (0x00000040)
#define HF_DEATH                (0x00000080)
#define HF_ON_FIRE              (0x00000400)
#define HF_BYPASS_ARMOR         (0x00000800)
#define HF_DROPPED_WEAPON       (0x00004000)
#define HF_LOST_NEXT_TURN       (0x00008000)
#define HF_RANDOM               (0x00200000)

#define MF_KNOCKED_DOWN         (0x00000002)
#define MF_ON_FIRE              (0x00000400)
#define MF_WEAPON_EXPLODED      (0x00001000)
#define MF_WEAPON_DESTROYED     (0x00002000)
#define MF_WEAPON_DROPPED       (0x00004000)
#define MF_LOST_NEXT_TURN       (0x00008000)
#define MF_HIT_SELF             (0x00010000)
#define MF_LOST_REST_OF_AMMO    (0x00020000)
#define MF_FIRED_DUD_SHOT       (0x00040000)
#define MF_HURT_SELF            (0x00080000)
#define MF_HIT_RANDOMLY         (0x00100000)
#define MF_CRIPPLED_RANDOM_LIMB (0x00200000)
#define MF_WAS_KILLED           (0x10000000)

// Animation macro
#define _CritAnimate          #(cr, anim) cr.Animate(0, anim, null, true, true)
#define _CritAnimateUse       #(cr) cr.Animate(0, Anim2Actions::Use, null, true, true)
#define _CritAnimatePickup    #(cr) cr.Animate(0, Anim2Actions::Pickup, null, true, true)
#define _CritAnimatePunch     #(cr) cr.Animate(0, Anim2Actions::PunchRight, null, true, true)
#define _CritAnimateKick      #(cr) cr.Animate(0, Anim2Actions::KickHi, null, true, true)
#define _CritAnimateThrow     #(cr) cr.Animate(0, Anim2Actions::Throw, null, true, true)
#define _CritAnimateThrust    #(cr) cr.Animate(0, Anim2Actions::Thrust1h, null, true, true)
#define _CritAnimateSwing     #(cr) cr.Animate(0, Anim2Actions::Swing1h, null, true, true)
#define _CritAnimateThrowWeap #(cr) cr.Animate(0, Anim2Actions::Throw, null, true, true)
#define _CritAnimateSingle    #(cr) cr.Animate(0, Anim2Actions::Single, null, true, true)
#define _CritAnimateBrust     #(cr) cr.Animate(0, Anim2Actions::Burst, null, true, true)
#define _CritAnimateFidget    #(cr) cr.Animate(0, Anim2Actions::Fidget, null, true, true)

// Anim loading flags
#define ANIM_FLAG_FIRST_FRAME (0x01)
#define ANIM_FLAG_LAST_FRAME  (0x02)

// Anim1 Weapon / Flags
// 0 1 2 3 4 5 6 7
// |<  Weapon   >|
// Manage constants
#define ANIM1_WEAPON_MASK (0x000000FF)
#define ANIM1_FLAGS_MASK  (0xFFFFFF00)
#define ANIM1_FLAGS_BITS  (8)
// Flags
// Tactics specific
// 8        9       10 1 2 3 4 5 6 7 8 9 20  1 2  3 4 5 6  7 8 9 30  1
// | Crouch | Prone                       | Skin  | | Hair | | Armor |
#define ANIM1_CROUCH      (0x0100)
#define ANIM1_PRONE       (0x0200)
#define ANIM1_COLOR_SKIN  #(index)(((index) & 0xF) << 20) // 0..15, colors see in colorOffsets animation.fos
#define ANIM1_COLOR_HAIR  #(index)(((index) & 0xF) << 24) // 0..15, colors see in colorOffsets animation.fos
#define ANIM1_COLOR_ARMOR #(index)(((index) & 0xF) << 28) // 0..15, colors see in colorOffsets animation.fos
// Arcanum specific
// 8 9 10 1 2        3 4 5 6     7     8 9 20 1 2 3 4 5 6 7 8 9 30 1
//          | Shield       |< Palette >|
#define ANIM1_SHIELD  (0x1000)
#define ANIM1_PALETTE #(num)(((num) & 3) <<(ANIM1_FLAGS_BITS + 8))

// Anim1
///@ Enum Anim1 Unarmed = 1 // Hardcoded
///@ Enum Anim1 Knife = 4
///@ Enum Anim1 Club = 5
///@ Enum Anim1 Hammer = 6
///@ Enum Anim1 Spear = 7
///@ Enum Anim1 Pistol = 8
///@ Enum Anim1 SMG = 9
///@ Enum Anim1 Shootgun = 10
///@ Enum Anim1 HeavyRifle = 11
///@ Enum Anim1 Minigun = 12
///@ Enum Anim1 RocketLauncher = 13
///@ Enum Anim1 Flamer = 14
///@ Enum Anim1 Rifle = 15
///@ Enum Anim1 Sword = 16
///@ Enum Anim1 LongSword = 17
///@ Enum Anim1 Axe = 18
///@ Enum Anim1 Bow = 19

// Manage constants
// Anim2 Actions
///@ Enum Anim2Actions Idle = 1      // Hardcoded
///@ Enum Anim2Actions IdleStunned = 2
///@ Enum Anim2Actions Walk = 3      // Hardcoded
///@ Enum Anim2Actions Limp = 4      // Hardcoded
///@ Enum Anim2Actions Run = 5       // Hardcoded
///@ Enum Anim2Actions PanicRun = 6  // Hardcoded
///@ Enum Anim2Actions SneakWalk = 7 // Hardcoded
///@ Enum Anim2Actions SneakRun = 8  // Hardcoded
///@ Enum Anim2Actions Stand = 10
///@ Enum Anim2Actions Crouch = 11
///@ Enum Anim2Actions Prone = 12
///@ Enum Anim2Actions ShowWeapon = 20
///@ Enum Anim2Actions HideWeapon = 21
///@ Enum Anim2Actions PrepareWeapon = 22
///@ Enum Anim2Actions TurnoffWeapon = 23
///@ Enum Anim2Actions Fidget = 24
///@ Enum Anim2Actions Climbing = 26
///@ Enum Anim2Actions Pickup = 27
///@ Enum Anim2Actions Use = 28
///@ Enum Anim2Actions SwitchItems = 29
///@ Enum Anim2Actions Reload = 30
///@ Enum Anim2Actions Repair = 31
///@ Enum Anim2Actions Loot = 35
///@ Enum Anim2Actions Steal = 36
///@ Enum Anim2Actions Push = 37
///@ Enum Anim2Actions BeginCombat = 40
///@ Enum Anim2Actions IdleCombat = 41
///@ Enum Anim2Actions EndCombat = 42
///@ Enum Anim2Actions PunchRight = 43
///@ Enum Anim2Actions PunchLeft = 44
///@ Enum Anim2Actions PunchCombo = 45
///@ Enum Anim2Actions KickHi = 46
///@ Enum Anim2Actions KickLo = 47
///@ Enum Anim2Actions KickCombo = 48
///@ Enum Anim2Actions Thrust1h = 49
///@ Enum Anim2Actions Thrust2h = 50
///@ Enum Anim2Actions Swing1h = 51
///@ Enum Anim2Actions Swing2h = 52
///@ Enum Anim2Actions Throw = 53
///@ Enum Anim2Actions Single = 54
///@ Enum Anim2Actions Burst = 55
///@ Enum Anim2Actions Sweep = 56
///@ Enum Anim2Actions Butt = 57
///@ Enum Anim2Actions Flame = 58
///@ Enum Anim2Actions NoRecoil = 59
///@ Enum Anim2Actions DodgeFront = 70
///@ Enum Anim2Actions DodgeBack = 71
///@ Enum Anim2Actions DamageFront = 72
///@ Enum Anim2Actions DamageBack = 73
///@ Enum Anim2Actions DamageMulFront = 74
///@ Enum Anim2Actions DamageMulBack = 75
///@ Enum Anim2Actions WalkDamageFront = 76
///@ Enum Anim2Actions WalkDamageBack = 77
///@ Enum Anim2Actions LimpDamageFront = 78
///@ Enum Anim2Actions LimpDamageBack = 79
///@ Enum Anim2Actions RunDamageFront = 80
///@ Enum Anim2Actions RunDamageBack = 81
///@ Enum Anim2Actions KnockFront = 82
///@ Enum Anim2Actions KnockBack = 83
///@ Enum Anim2Actions LaydownFront = 84
///@ Enum Anim2Actions LaydownBack = 85
///@ Enum Anim2Actions IdleProneFront = 86 // Hardcoded
///@ Enum Anim2Actions IdleProneBack = 87  // Hardcoded
///@ Enum Anim2Actions StandupFront = 88
///@ Enum Anim2Actions StandupBack = 89
///@ Enum Anim2Actions DamageProneFront = 90
///@ Enum Anim2Actions DamageProneBack = 91
///@ Enum Anim2Actions DamageMulProneFront = 92
///@ Enum Anim2Actions DamageMulProneBack = 93
///@ Enum Anim2Actions TwitchProneFront = 94
///@ Enum Anim2Actions TwitchProneBack = 95
///@ Enum Anim2Actions DeadProneFront = 100 // Dead begin
///@ Enum Anim2Actions DeadProneBack = 101
///@ Enum Anim2Actions DeadFront = 102 // Hardcoded
///@ Enum Anim2Actions DeadBack = 103  // Hardcoded
///@ Enum Anim2Actions DeadBloodySingle = 110
///@ Enum Anim2Actions DeadBloodyBurst = 111
///@ Enum Anim2Actions DeadBurst = 112
///@ Enum Anim2Actions DeadPulse = 113
///@ Enum Anim2Actions DeadPulseDust = 114
///@ Enum Anim2Actions DeadLaser = 115
///@ Enum Anim2Actions DeadFused = 116
///@ Enum Anim2Actions DeadExplode = 117
///@ Enum Anim2Actions DeadBurn = 118
///@ Enum Anim2Actions DeadBurnRun = 119 // Dead end

// Fallout anims1
///@ Enum FalloutAnims1 Unarmed = 1
///@ Enum FalloutAnims1 Dead = 2
///@ Enum FalloutAnims1 Knockout = 3
///@ Enum FalloutAnims1 Knife = 4
///@ Enum FalloutAnims1 Club = 5
///@ Enum FalloutAnims1 Hammer = 6
///@ Enum FalloutAnims1 Spear = 7
///@ Enum FalloutAnims1 Pistol = 8
///@ Enum FalloutAnims1 Uzi = 9
///@ Enum FalloutAnims1 Shootgun = 10
///@ Enum FalloutAnims1 Rifle = 11
///@ Enum FalloutAnims1 Minigun = 12
///@ Enum FalloutAnims1 RocketLauncher = 13
///@ Enum FalloutAnims1 Aim = 14
// Fallout anims2
///@ Enum FalloutAnims2 Stay = 1
///@ Enum FalloutAnims2 Walk = 2
///@ Enum FalloutAnims2 Show = 3
///@ Enum FalloutAnims2 Hide = 4
///@ Enum FalloutAnims2 DodgeWeapon = 5
///@ Enum FalloutAnims2 Thrust = 6
///@ Enum FalloutAnims2 Swing = 7
///@ Enum FalloutAnims2 PrepareWeapon = 8
///@ Enum FalloutAnims2 TurnoffWeapon = 9
///@ Enum FalloutAnims2 Shoot = 10
///@ Enum FalloutAnims2 Burst = 11
///@ Enum FalloutAnims2 Flame = 12
///@ Enum FalloutAnims2 ThrowWeapon = 13
///@ Enum FalloutAnims2 DamageFront = 15
///@ Enum FalloutAnims2 DamageBack = 16
///@ Enum FalloutAnims2 KnockFront = 91  // Only with FalloutAnims1::Dead
///@ Enum FalloutAnims2 KnockBack = 92
///@ Enum FalloutAnims2 StandupBack = 38 // Only with FalloutAnims1::Knockout
///@ Enum FalloutAnims2 StandupFront = 30
///@ Enum FalloutAnims2 Pickup = 21     // Only with FalloutAnims1::Unarmed
///@ Enum FalloutAnims2 Use = 22
///@ Enum FalloutAnims2 DodgeEmpty = 14
///@ Enum FalloutAnims2 Punch = 17
///@ Enum FalloutAnims2 Kick = 18
///@ Enum FalloutAnims2 ThrowEmpty = 19
///@ Enum FalloutAnims2 Run = 20
///@ Enum FalloutAnims2 DeadFront = 101 // Only with FalloutAnims1::Dead
///@ Enum FalloutAnims2 DeadBack = 102
///@ Enum FalloutAnims2 DeadBloodySingle = 104
///@ Enum FalloutAnims2 DeadBurn = 105
///@ Enum FalloutAnims2 DeadBloodyBurst = 106
///@ Enum FalloutAnims2 DeadBurst = 107
///@ Enum FalloutAnims2 DeadPulse = 108
///@ Enum FalloutAnims2 DeadLaser = 109
///@ Enum FalloutAnims2 DeadBurn2 = 110
///@ Enum FalloutAnims2 DeadPulseDust = 111
///@ Enum FalloutAnims2 DeadExplode = 112
///@ Enum FalloutAnims2 DeadFused = 113
///@ Enum FalloutAnims2 DeadBurnRun = 114
///@ Enum FalloutAnims2 DeadFront2 = 115
///@ Enum FalloutAnims2 DeadBack2 = 116
// //////////////////////////////////////////////////////////////////////////////////////////////////
// Knockout animations, f - face up/down
#define KNOCKOUT_ANIM2_DEFAULT \
#(f)((f) ? Anim2Actions::KnockFront : Anim2Actions::KnockBack), \
         ((f) ? Anim2Actions::IdleProneFront : Anim2Actions::IdleProneBack), ((f) ? Anim2Actions::StandupFront : Anim2Actions::StandupBack)
#define KNOCKOUT_ANIM2_STUNNED #(f)((f) ? Anim2Actions::DamageFront : Anim2Actions::DamageBack), Anim2Actions::IdleStunned, Anim2Actions::IdleStunned

// Damage types
///@ Enum DamageTypes Reserved = 0
///@ Enum DamageTypes Normal = 1
///@ Enum DamageTypes Laser = 2
///@ Enum DamageTypes Fire = 3
///@ Enum DamageTypes Plasma = 4
///@ Enum DamageTypes Electricity = 5
///@ Enum DamageTypes Emp = 6
///@ Enum DamageTypes Explode = 7
///@ Enum DamageTypes Poison = 8
///@ Enum DamageTypes Radiation = 9

// Gender
///@ Enum GenderType Male = 0
///@ Enum GenderType Female = 1
///@ Enum GenderType It = 2

// Age
const int AgeMax = 60;
const int AgeMin = 14;

// Item perks
///@ Enum ItemPerks ItemPerkNone = 0
///@ Enum ItemPerks LongRange = 1
///@ Enum ItemPerks Accurate = 2
///@ Enum ItemPerks Penetrate = 3
///@ Enum ItemPerks Knockback = 4
///@ Enum ItemPerks ScopeRange = 5
///@ Enum ItemPerks FastReload = 6
///@ Enum ItemPerks NightSight = 7
///@ Enum ItemPerks Flameboy = 8
///@ Enum ItemPerks EnhancedKnockout = 9
///@ Enum ArmorPerks Powered = 1            // +3 strength, +30 radiation resist
///@ Enum ArmorPerks Combat = 2             // +20 radiation resist
///@ Enum ArmorPerks AdvancedI = 3          // +4 strength, +60 radiation resist
///@ Enum ArmorPerks AdvancedII = 4         // +4 strength, +75 radiation resist
///@ Enum ArmorPerks Charisma = 5           // 1+ charisma
#define SLOT_PERK_MIRROR_SHADES (0x01) // +1 charisma
#define SLOT_PERK_COSMETIC_CASE (0x02) // +1 charisma to female
#define SLOT_PERK_MOTION_SENSOR (0x04) // +20 outdoorsman
#define SLOT_PERK_STEALTH_BOY   (0x08) // +20 sneak

// Critter timeevents identifiers
const int CtePoison = 1;
const int CteRadiation = 2;
const int CteTrader = 3;
const int CteObserving = 4;
const int CteAutokill = 5;
// Drugs time events                40 (PID_STIMPAK) .. 1000

// Timeouts in real seconds, generic values
#define FIRST_AID_TIMEOUT \
#(cr)(GetFullSecond() +(Settings.TimeMultiplier * 100 /(((cr.SkillFirstAid)> 3 ? \
                                                              cr.SkillFirstAid : 3) * 100 / MAX_SKILL_VAL)) * 60) // Orig 3 time on day, 5 min - sk
#define DOCTOR_TIMEOUT \
#(cr)(GetFullSecond() +(Settings.TimeMultiplier * 100 /(((cr.SkillDoctor)> 3 ? \
                                                              cr.SkillDoctor : 3) * 100 / MAX_SKILL_VAL) * 3) * 60) // Orig 1 time on day, 20 min - sk
#define REPAIR_TIMEOUT   #(cr)(GetFullSecond() + REAL_MINUTE(1))                                                    // Orig 4 time on day, 1 min
#define SCIENCE_TIMEOUT  #(cr)(GetFullSecond() + REAL_MINUTE(1))                                                    // Orig 6 time on day, 1 min
#define LOCKPICK_TIMEOUT #(cr)(GetFullSecond() + REAL_MINUTE(2))                                                    // Orig 15 minutes, 2 min
#define STEAL_TIMEOUT    #(cr)(GetFullSecond() + REAL_MINUTE(2))                                                    // 2 minutes
#define TRANSFER_TIMEOUT #(cr)(GetFullSecond() + Settings.TimeoutTransfer)
#define BATTLE_TIMEOUT   #(cr)(GetFullSecond() + MAX(uint(Settings.TimeoutBattle - REAL_SECOND(cr.ArmorClass)), uint(REAL_SECOND(12))))
#define TRAPS_TIMEOUT    #(cr)(GetFullSecond() + REAL_MINUTE(1))
#define SNEAK_TIMEOUT    #(cr)(GetFullSecond() + REAL_SECOND(MAX(34 - cr.Sequence, 3))) // 34 second - sequence
#define HEALING_TIMEOUT  #(cr)(GetFullSecond() + REAL_MINUTE(2))                        // 2 minutes

const int MaxDeterioration = 10000;
const int MaxBrokens = 10;

// Car flags
#define CAR_BIO_ENGINE  (0x0001)
#define CAR_NO_LOCKPICK (0x0002)

// Body types
///@ Enum BodyTypes Men = 0
///@ Enum BodyTypes Women = 1
///@ Enum BodyTypes Children = 2
///@ Enum BodyTypes SuperMutant = 3
///@ Enum BodyTypes Ghoul = 4
///@ Enum BodyTypes Brahmin = 5
///@ Enum BodyTypes Radscorpion = 6
///@ Enum BodyTypes Rat = 7
///@ Enum BodyTypes Floater = 8
///@ Enum BodyTypes Centaur = 9
///@ Enum BodyTypes Robot = 10
///@ Enum BodyTypes Dog = 11
///@ Enum BodyTypes Manti = 12
///@ Enum BodyTypes Deadclaw = 13
///@ Enum BodyTypes Plant = 14
///@ Enum BodyTypes Gecko = 15
///@ Enum BodyTypes Alien = 16
///@ Enum BodyTypes GiantAnt = 17
///@ Enum BodyTypes BigBadBoss = 18
///@ Enum BodyTypes GiantBeetle = 19
///@ Enum BodyTypes GiantWasp = 20
const int MaxBodyTypes = 21;

// Locomotion types
#define LOCOMOTION_BIPED     (0)
#define LOCOMOTION_QUADRUPED (1)
#define LOCOMOTION_ROBOTIC   (2)
const int LocomotionFly = 3;

// Game images
const int ImageRelief = 0; // Global map relief

// Other
#define FLUSH_SCREEN_DEFAULT (1000) // Flush screen time

// Hit locations
///@ Enum HitLocations LocationNone = 0
///@ Enum HitLocations LocationHead = 1
///@ Enum HitLocations LocationLeftArm = 2
///@ Enum HitLocations LocationRightArm = 3
///@ Enum HitLocations LocationTorso = 4
///@ Enum HitLocations LocationRightLeg = 5
///@ Enum HitLocations LocationLeftLeg = 6
///@ Enum HitLocations LocationEyes = 7
///@ Enum HitLocations LocationGroin = 8
///@ Enum HitLocations LocationUncalled = 9

// Fix boy function call states
const int FixboyList = 0;
const int FixboyButton = 1;
const int FixboyCraft = 2;

// Fix boy craft results
#define FIXBOY_ALLOW_CRAFT       (0x0001)
#define FIXBOY_CHECK_TIMEOUT     (0x0002)
#define FIXBOY_SET_TIMEOUT       (0x0004)
#define FIXBOY_CHECK_PARAMS      (0x0008)
#define FIXBOY_CHECK_MATERIALS   (0x0010)
#define FIXBOY_CHECK_TOOLS       (0x0020)
#define FIXBOY_SUB_MATERIALS     (0x0040)
#define FIXBOY_ADD_CRAFT_ITEMS   (0x0080)
#define FIXBOY_ADD_EXPERIENCE    (0x0100)
#define FIXBOY_SEND_SUCC_MESSAGE (0x0200)
#define FIXBOY_SEND_FAIL_MESSAGE (0x0400)
#define FIXBOY_DEFAULT           (0xFFFF)

// Elevators
#define ELEVATOR_X            #(elevator, current_level)((uint((current_level) & 0xFFFF) << 16) |(elevator) & 0xFFFF)
#define ELEVATOR_BOS_1234     #(current_level)(ELEVATOR_X(0, current_level))
#define ELEVATOR_BOS_01       #(current_level)(ELEVATOR_X(1, current_level))
#define ELEVATOR_MASTER_123   #(current_level)(ELEVATOR_X(2, current_level))
#define ELEVATOR_MASTER_34    #(current_level)(ELEVATOR_X(3, current_level))
#define ELEVATOR_MILITARY_123 #(current_level)(ELEVATOR_X(4, current_level))
#define ELEVATOR_MILITARY_34  #(current_level)(ELEVATOR_X(5, current_level))
#define ELEVATOR_MILITARY_346 #(current_level)(ELEVATOR_X(6, current_level)) // Use 6 level as 5
#define ELEVATOR_MILITARY_456 #(current_level)(ELEVATOR_X(7, current_level))
#define ELEVATOR_VAULT_123    #(current_level)(ELEVATOR_X(8, current_level))

#define CRTYPE_DEFAULT_M      (CRTYPE_DW_JUMPSUIT_M)
// #define CRTYPE_DEFAULT_M                 ( CRTYPE_TACTICS_RHUMANOID ) // Temporary test FT anims vs fallout anims
#define CRTYPE_DEFAULT_F (CRTYPE_DW_JUMPSUIT_F)

// Dweller
#define CRTYPE_DW_JUMPSUIT_M       (hstring("art/critters/hmjmps"))
#define CRTYPE_DW_JUMPSUIT_F       (hstring("art/critters/hfjmps"))
#define CRTYPE_DW_LEATHER_JACKET_F (hstring("art/critters/hfmaxx"))
#define CRTYPE_DW_LEATHER_ARMOR_M  (hstring("art/critters/hmlthr"))
#define CRTYPE_DW_LEATHER_JACKET_M (hstring("art/critters/hmmaxx"))
#define CRTYPE_DW_METAL_ARMOR_M    (hstring("art/critters/hmmetl"))
#define CRTYPE_DW_TRIBAL_F         (hstring("art/critters/nfprim"))
#define CRTYPE_DW_TRIBAL_M         (hstring("art/critters/nmwarr"))
// Vault citizen
#define CRTYPE_VAULT_M (hstring("art/critters/nmvalt"))
#define CRTYPE_VAULT_F (hstring("art/critters/nfvalt"))
// Robots
#define CRTYPE_ROBOT (hstring("art/critters/marobt"))
// Long Hair Dude
#define CRTYPE_LHD_JUMPSUIT       (hstring("art/critters/hmljmp"))
#define CRTYPE_LHD_LEATHER_ARMOR  (hstring("art/critters/hmllth"))
#define CRTYPE_LHD_LEATHER_JACKET (hstring("art/critters/hmlmax"))
#define CRTYPE_LHD_METAL_ARMOR    (hstring("art/critters/hmlmet"))
#define CRTYPE_LHD_TRIBAL         (hstring("art/critters/hmlwar"))
// Mobs
#define CRTYPE_RAT              (hstring("art/critters/masrat"))
#define CRTYPE_MOLESKIN_RAT_BIG (hstring("art/critters/mamrat"))

// Weapon calibers
///@ Enum Caliber None
///@ Enum Caliber Rocket
///@ Enum Caliber FlameThrowerFuel
///@ Enum Caliber C_EnergyCell
///@ Enum Caliber D_EnergyCell
///@ Enum Caliber Bullet_223
///@ Enum Caliber Bullet_5mm
///@ Enum Caliber Bullet_40
///@ Enum Caliber Bullet_10mm
///@ Enum Caliber Bullet_44
///@ Enum Caliber Bullet_14mm
///@ Enum Caliber Bullet_12Gauge
///@ Enum Caliber Bullet_9mm
///@ Enum Caliber Bullet_BB
///@ Enum Caliber Bullet_45
///@ Enum Caliber Bullet_2mm
///@ Enum Caliber Bullet_47mmCaseless
///@ Enum Caliber Bullet_HNNeedler
///@ Enum Caliber Bullet_762mm
///@ Enum Caliber Bullet_700NitroExpress
///@ Enum Caliber SignalRocket

// Addictions
///@ Enum Addictions NukaCola = 0
///@ Enum Addictions Buffout = 1
///@ Enum Addictions Mentats = 2
///@ Enum Addictions Psycho = 3
///@ Enum Addictions Radaway = 4
///@ Enum Addictions Jet = 5
///@ Enum Addictions Tragic = 6
const int MaxAddictions = 7;

// EScores
///@ Enum EScores EvilOfHour = 0
///@ Enum EScores HeroOfHour = 1
///@ Enum EScores KarmaOnHour = 2
///@ Enum EScores Speaker = 3
///@ Enum EScores Trader = 4
///@ Enum EScores Zomby = 5
///@ Enum EScores Paty = 6
///@ Enum EScores Maniac = 7
///@ Enum EScores Scaut = 8
///@ Enum EScores Doctor = 9
///@ Enum EScores Shooter = 10
///@ Enum EScores Melee = 11
///@ Enum EScores Unarmed = 12
///@ Enum EScores Thief = 13
///@ Enum EScores Driver = 14
///@ Enum EScores Killer = 15
///@ Enum EScores Sniper = 16
///@ Enum EScores Adventurer = 17
///@ Enum EScores Cracker = 18
///@ Enum EScores UnarmedDamage = 19
///@ Enum EScores Ritch = 20
///@ Enum EScores ChosenOne = 21
///@ Enum EScores SierraCur = 40
///@ Enum EScores MariposaCur = 41
///@ Enum EScores CathedralCur = 42
///@ Enum EScores SierraBest = 43
///@ Enum EScores MariposaBest = 44
///@ Enum EScores CathedralBest = 45
///@ Enum EScores SierraOrg = 46
///@ Enum EScores MariposaOrg = 47
///@ Enum EScores CathedralOrg = 48
///@ Enum EScores BaseBestOrg = 49

// Holodisk numbers
///@ Enum HoloBax MainInfo = 100
///@ Enum HoloBax SermonDead = 101
///@ Enum HoloBax SermonCharacter = 102
///@ Enum HoloBax SermonNasty = 103
///@ Enum HoloBax SermonBehavior = 104
///@ Enum HoloBax MythNeutral = 105

// Anim2 enums
///@ Enum Anim2 None = 0
///@ Enum Anim2 Idle = 1
///@ Enum Anim2 IdleStunned = 2
///@ Enum Anim2 Walk = 3
///@ Enum Anim2 Limp = 4
///@ Enum Anim2 Run = 5
///@ Enum Anim2 PanicRun = 6
///@ Enum Anim2 SneakWalk = 7
///@ Enum Anim2 SneakRun = 8
///@ Enum Anim2 Stand = 10
///@ Enum Anim2 Crouch = 11
///@ Enum Anim2 Prone = 12
///@ Enum Anim2 ShowWeapon = 20
///@ Enum Anim2 HideWeapon = 21
///@ Enum Anim2 PrepareWeapon = 22
///@ Enum Anim2 TurnOffWeapon = 23
///@ Enum Anim2 Fidget = 24
///@ Enum Anim2 Climbing = 26
///@ Enum Anim2 PickUp = 27
///@ Enum Anim2 Use = 28
///@ Enum Anim2 SwitchItems = 29
///@ Enum Anim2 Reload = 30
///@ Enum Anim2 Repair = 31
///@ Enum Anim2 Loot = 35
///@ Enum Anim2 Steal = 36
///@ Enum Anim2 Push = 37
///@ Enum Anim2 BeginCombat = 40
///@ Enum Anim2 IdleCombat = 41
///@ Enum Anim2 EndCombat = 42
///@ Enum Anim2 PunchRight = 43
///@ Enum Anim2 PunchLeft = 44
///@ Enum Anim2 PunchCombo = 45
///@ Enum Anim2 KickHi = 46
///@ Enum Anim2 KickLo = 47
///@ Enum Anim2 KickCombo = 48
///@ Enum Anim2 Thrust1H = 49
///@ Enum Anim2 Thrust2H = 50
///@ Enum Anim2 Swing1H = 51
///@ Enum Anim2 Swing2H = 52
///@ Enum Anim2 Throw = 53
///@ Enum Anim2 Single = 54
///@ Enum Anim2 Burst = 55
///@ Enum Anim2 Sweep = 56
///@ Enum Anim2 Butt = 57
///@ Enum Anim2 Flame = 58
///@ Enum Anim2 NoRecoil = 59
///@ Enum Anim2 DodgeFront = 70
///@ Enum Anim2 DodgeBack = 71
///@ Enum Anim2 DamageFront = 72
///@ Enum Anim2 DamageBack = 73
///@ Enum Anim2 DamageMulFront = 74
///@ Enum Anim2 DamageMulBack = 75
///@ Enum Anim2 WalkDamageFront = 76
///@ Enum Anim2 WalkDamageBack = 77
///@ Enum Anim2 LimpDamageFront = 78
///@ Enum Anim2 LimpDamageBack = 79
///@ Enum Anim2 RunDamageFront = 80
///@ Enum Anim2 RunDamageBack = 81
///@ Enum Anim2 KnockFront = 82
///@ Enum Anim2 KnockBack = 83
///@ Enum Anim2 LaydownFront = 84
///@ Enum Anim2 LaydownBack = 85
///@ Enum Anim2 IdleProneFront = 86
///@ Enum Anim2 IdleProneBack = 87
///@ Enum Anim2 StandupFront = 88
///@ Enum Anim2 StandupBack = 89
///@ Enum Anim2 DamageProneFront = 90
///@ Enum Anim2 DamageProneBack = 91
///@ Enum Anim2 DamageMulProneFront = 92
///@ Enum Anim2 DamageMulProneBack = 93
///@ Enum Anim2 TwitchProneFront = 94
///@ Enum Anim2 TwitchProneBack = 95
///@ Enum Anim2 DeadProneFront = 100
///@ Enum Anim2 DeadProneBack = 101
///@ Enum Anim2 DeadFront = 102
///@ Enum Anim2 DeadBack = 103
///@ Enum Anim2 DeadBloodySingle = 110
///@ Enum Anim2 DeadBloodyBurst = 111
///@ Enum Anim2 DeadBurst = 112
///@ Enum Anim2 DeadPulse = 113
///@ Enum Anim2 DeadPulseDust = 114
///@ Enum Anim2 DeadLaser = 115
///@ Enum Anim2 DeadFused = 116
///@ Enum Anim2 DeadExplode = 117
///@ Enum Anim2 DeadBurn = 118
///@ Enum Anim2 DeadBurnRun = 119
///@ Enum Anim2 Dance = 150

// /
// / Global variables
// /

///@ Setting bool MainStoryLineActive = true
///@ Setting uint PermanentDeath = 0 // Number of deaths to account blocking, zero to disable
///@ Setting uint HitAimEyes  = 60
///@ Setting uint HitAimHead  = 40
///@ Setting uint HitAimGroin = 30
///@ Setting uint HitAimTorso = 0
///@ Setting uint HitAimArms  = 30
///@ Setting uint HitAimLegs  = 20
///@ Setting bool NoPvpMaps = false       // Отключение нопвп режима активно
///@ Setting uint MaxLifeLevelSoftCap = 0 // Максимальный уровень персонажа, на котором происходит увеличение хп. 0  = не используется
///@ Setting uint EncounterTime = 0       // Как часто пробовать создать энкаунтер, в миллисекундах

///@ Setting bool Production

// Item
// Armor
///@ Property Item Public hstring Armor_CrTypeMale Group = Armor
///@ Property Item Public hstring Armor_CrTypeFemale Group = Armor
///@ Property Item Public int  Armor_AC Group = Armor
///@ Property Item Public uint Armor_Perk Group = Armor
///@ Property Item Public int  Armor_DRNormal Group = Armor
///@ Property Item Public int  Armor_DRLaser Group = Armor
///@ Property Item Public int  Armor_DRFire Group = Armor
///@ Property Item Public int  Armor_DRPlasma Group = Armor
///@ Property Item Public int  Armor_DRElectr Group = Armor
///@ Property Item Public int  Armor_DREmp Group = Armor
///@ Property Item Public int  Armor_DRExplode Group = Armor
///@ Property Item Public int  Armor_DTNormal Group = Armor
///@ Property Item Public int  Armor_DTLaser Group = Armor
///@ Property Item Public int  Armor_DTFire Group = Armor
///@ Property Item Public int  Armor_DTPlasma Group = Armor
///@ Property Item Public int  Armor_DTElectr Group = Armor
///@ Property Item Public int  Armor_DTEmp Group = Armor
///@ Property Item Public int  Armor_DTExplode Group = Armor
// Weapon

#define USE_NONE (15)
// Weapon unarmed
///@ Property Item Public bool  Weapon_IsUnarmed Group = WeaponUnarmed
///@ Property Item Public int   Weapon_UnarmedTree Group = WeaponUnarmed
///@ Property Item Public int   Weapon_UnarmedPriority Group = WeaponUnarmed
///@ Property Item Public int   Weapon_UnarmedMinAgility Group = WeaponUnarmed
///@ Property Item Public int   Weapon_UnarmedMinUnarmed Group = WeaponUnarmed
///@ Property Item Public int   Weapon_UnarmedMinLevel Group = WeaponUnarmed
// Weapon Ammo
///@ Property Item Public uint  Weapon_MaxAmmoCount Group = WeaponAmmo
///@ Property Item Public Caliber Weapon_Caliber Group = WeaponAmmo
///@ Property Item Public hstring  Weapon_DefaultAmmoPid Group = WeaponAmmo
// Weapon properties
///@ Property Item Public Anim1 Weapon_Anim1 Group = WeaponProperties
///@ Property Item Public int   Weapon_MinStrength Group = WeaponProperties
///@ Property Item Public ItemPerks   Weapon_Perk Group = WeaponProperties
///@ Property Item Public bool  Weapon_IsTwoHanded Group = WeaponProperties
///@ Property Item Public uint  Weapon_ActiveUses Group = WeaponProperties
// Weapon modes
///@ Property Item Public CritterProperty Weapon_Skill_0 Group = WeaponModes
///@ Property Item Public CritterProperty Weapon_Skill_1 Group = WeaponModes
///@ Property Item Public CritterProperty Weapon_Skill_2 Group = WeaponModes
///@ Property Item Public hstring  Weapon_PicUse_0 Group = WeaponModes
///@ Property Item Public hstring  Weapon_PicUse_1 Group = WeaponModes
///@ Property Item Public hstring  Weapon_PicUse_2 Group = WeaponModes
///@ Property Item Public uint  Weapon_MaxDist_0 Group = WeaponModes
///@ Property Item Public uint  Weapon_MaxDist_1 Group = WeaponModes
///@ Property Item Public uint  Weapon_MaxDist_2 Group = WeaponModes
///@ Property Item Public uint  Weapon_Round_0 Group = WeaponModes
///@ Property Item Public uint  Weapon_Round_1 Group = WeaponModes
///@ Property Item Public uint  Weapon_Round_2 Group = WeaponModes
///@ Property Item Public uint  Weapon_ApCost_0 Group = WeaponModes
///@ Property Item Public uint  Weapon_ApCost_1 Group = WeaponModes
///@ Property Item Public uint  Weapon_ApCost_2 Group = WeaponModes
///@ Property Item Public bool  Weapon_Aim_0 Group = WeaponModes
///@ Property Item Public bool  Weapon_Aim_1 Group = WeaponModes
///@ Property Item Public bool  Weapon_Aim_2 Group = WeaponModes
///@ Property Item Public uint8 Weapon_SoundId_0 Group = WeaponModes
///@ Property Item Public uint8 Weapon_SoundId_1 Group = WeaponModes
///@ Property Item Public uint8 Weapon_SoundId_2 Group = WeaponModes
///@ Property Item Public int   Weapon_DmgType_0 Group = WeaponModes
///@ Property Item Public int   Weapon_DmgType_1 Group = WeaponModes
///@ Property Item Public int   Weapon_DmgType_2 Group = WeaponModes
///@ Property Item Public Anim2 Weapon_Anim2_0 Group = WeaponModes
///@ Property Item Public Anim2 Weapon_Anim2_1 Group = WeaponModes
///@ Property Item Public Anim2 Weapon_Anim2_2 Group = WeaponModes
///@ Property Item Public int   Weapon_DmgMin_0 Group = WeaponModes
///@ Property Item Public int   Weapon_DmgMin_1 Group = WeaponModes
///@ Property Item Public int   Weapon_DmgMin_2 Group = WeaponModes
///@ Property Item Public int   Weapon_DmgMax_0 Group = WeaponModes
///@ Property Item Public int   Weapon_DmgMax_1 Group = WeaponModes
///@ Property Item Public int   Weapon_DmgMax_2 Group = WeaponModes
///@ Property Item Public bool  Weapon_Remove_0 Group = WeaponModes
///@ Property Item Public bool  Weapon_Remove_1 Group = WeaponModes
///@ Property Item Public bool  Weapon_Remove_2 Group = WeaponModes
///@ Property Item Public hstring  Weapon_Effect_0 Group = WeaponModes
///@ Property Item Public hstring  Weapon_Effect_1 Group = WeaponModes
///@ Property Item Public hstring  Weapon_Effect_2 Group = WeaponModes
// Weapon properties
///@ Property Item Public uint  Weapon_ReloadAp Group = WeaponProperties
///@ Property Item Public int   Weapon_UnarmedCriticalBonus Group = WeaponProperties
///@ Property Item Public uint  Weapon_CriticalFailture Group = WeaponProperties
///@ Property Item Public bool  Weapon_UnarmedArmorPiercing Group = WeaponProperties
// Ammo
///@ Property Item Public Caliber Ammo_Caliber Group = Ammo
///@ Property Item Public int  Ammo_AcMod Group = Ammo
///@ Property Item Public int  Ammo_DrMod Group = Ammo
///@ Property Item Public uint Ammo_DmgMult Group = Ammo
///@ Property Item Public uint Ammo_DmgDiv Group = Ammo
// Car
///@ Property Item Public uint Car_Speed Group = Car
///@ Property Item Public uint Car_Passability Group = Car
///@ Property Item Public uint Car_DeteriorationRate Group = Car
///@ Property Item Public uint Car_CrittersCapacity Group = Car
///@ Property Item Public uint Car_TankVolume Group = Car
///@ Property Item Public uint Car_MaxDeterioration Group = Car
///@ Property Item Public uint Car_FuelConsumption Group = Car
///@ Property Item Public uint Car_Entrance Group = Car
///@ Property Item Public uint Car_MovementType Group = Car

// Deterioration
///@ Property Item Public    bool Deteriorable Group = Deterioration
///@ Property Item Protected bool IsBroken Group = Deterioration

///@ Property Item Protected bool BrokenEternal Group = Deterioration
///@ Property Item Protected bool BrokenLowBroken Group = Deterioration
///@ Property Item Protected bool BrokenNormBroken Group = Deterioration
///@ Property Item Protected bool BrokenHighBroken Group = Deterioration
///@ Property Item Protected bool BrokenNotresc Group = Deterioration
///@ Property Item Protected bool BrokenService Group = Deterioration
///@ Property Item Protected bool BrokenServiceExt Group = Deterioration

///@ Property Item Protected uint BrokenCount Group = Deterioration
///@ Property Item Protected uint Deterioration Group = Deterioration

///@ Property Item Public uint16 LockerCondition
///@ Property Item PrivateServer bool IsLockpick
///@ Property Item PrivateServer uint8 Lockpick_Points
///@ Property Item PrivateServer bool Lockpick_IsElectro

// Critter
///@ Property Critter VirtualPublic    int   Strength
///@ Property Critter Public           int   StrengthBase   Group = SpecialBase
///@ Property Critter VirtualProtected int   Perception
///@ Property Critter Protected        int   PerceptionBase Group = SpecialBase
///@ Property Critter VirtualPublic    int   Endurance
///@ Property Critter Public           int   EnduranceBase  Group = SpecialBase
///@ Property Critter VirtualProtected int   Charisma
///@ Property Critter Protected        int   CharismaBase   Group = SpecialBase
///@ Property Critter VirtualProtected int   Intellect
///@ Property Critter Protected        int   IntellectBase  Group = SpecialBase
///@ Property Critter VirtualPublic    int   Agility
///@ Property Critter Public           int   AgilityBase    Group = SpecialBase
///@ Property Critter VirtualProtected int   Luck
///@ Property Critter Protected        int   LuckBase       Group = SpecialBase
///@ Property Critter VirtualProtected int   ArmorClass
///@ Property Critter VirtualPublic    int   MaxLife
///@ Property Critter Public           int   MaxLifeBase
///@ Property Critter Protected        int   ActionPointsBase
///@ Property Critter Protected        int   ArmorClassBase
///@ Property Critter VirtualProtected int   MeleeDamage
///@ Property Critter Protected        int   MeleeDamageBase
///@ Property Critter VirtualProtected bool  IsOverweight
///@ Property Critter VirtualProtected int   CarryWeight
///@ Property Critter Protected        int   CarryWeightBase
///@ Property Critter VirtualProtected int   Sequence
///@ Property Critter Protected        int   SequenceBase
///@ Property Critter VirtualProtected int   HealingRate
///@ Property Critter Protected        int   HealingRateBase
///@ Property Critter VirtualProtected int   CriticalChance
///@ Property Critter Protected        int   CriticalChanceBase
///@ Property Critter VirtualProtected int   MaxCritical
///@ Property Critter Protected        int   MaxCriticalBase
///@ Property Critter Protected        int   Toxic
///@ Property Critter Protected        int   Radioactive
///@ Property Critter Protected        int   KillExperience
///@ Property Critter Protected        uint  BodyType
///@ Property Critter Protected        int   LocomotionType
///@ Property Critter Protected        int   DamageType
///@ Property Critter Public           int   Age
///@ Property Critter Public           GenderType Gender
///@ Property Critter Protected        int   PoisoningLevel
///@ Property Critter Protected        int   RadiationLevel
///@ Property Critter Protected        int   UnspentSkillPoints
///@ Property Critter Protected        int   UnspentPerks
///@ Property Critter Protected        int   Karma
///@ Property Critter Protected        int   ReplicationMoney
///@ Property Critter Protected        int   ReplicationCount
///@ Property Critter Protected        int   ReplicationCost
///@ Property Critter Protected        int   RateObject
///@ Property Critter Protected        int   BonusLook
///@ Property Critter Protected        int   NpcRole
///@ Property Critter Protected        int   AiId
///@ Property Critter Protected        int   TeamId
///@ Property Critter Protected        int   NextCrType
///@ Property Critter PrivateServer    uint  DeadBlockerId
///@ Property Critter Protected        int   CurrentArmorPerk
///@ Property Critter PrivateServer    uint  NextReplicationMap
///@ Property Critter PrivateServer    hstring  NextReplicationEntry
///@ Property Critter Public           int   PlayerKarma
///@ Property Critter Public           int   ArmorPerk
///@ Property Critter PrivateServer    uint  LastStealCrId
///@ Property Critter PrivateServer    uint  StealCount
///@ Property Critter PrivateServer    uint  GlobalMapMoveCounter
///@ Property Critter Protected        int   Experience
///@ Property Critter Protected        int   MaxMoveApBase
///@ Property Critter Public hstring AnimType

// Group & Global map
///@ Property Critter Protected		  uint FollowLeaderId
///@ Property Critter PrivateServer	  uint LastSendEntrancesLocId
///@ Property Critter PrivateServer	  uint LastSendEntrancesTick

// Models
///@ Property Critter Protected uint CrTypeAliasBase
///@ Property Critter VirtualProtected uint CrTypeAlias
///@ Property Critter Public hstring ModelNameBase
///@ Property Critter Protected bool IsNoArmor
///@ Property Critter PrivateCommon const bool[] Anims

// Modes
///@ Property Critter Protected bool IsNoAim

// Kills
///@ Property Critter Protected uint[] Kills
///@ Property Critter Protected uint KillMen Group = Kills
///@ Property Critter Protected uint KillWomen Group = Kills
///@ Property Critter Protected uint KillAlien Group = Kills
///@ Property Critter Protected uint KillChildren Group = Kills
///@ Property Critter Protected uint KillFloater Group = Kills
///@ Property Critter Protected uint KillRat Group = Kills
///@ Property Critter Protected uint KillCentaur Group = Kills

// Reputations
///@ Property Critter Protected int ReputationDen Group = Reputations
///@ Property Critter Protected int ReputationKlamath Group = Reputations
///@ Property Critter Protected int ReputationModoc Group = Reputations
///@ Property Critter Protected int ReputationVaultCity Group = Reputations
///@ Property Critter Protected int ReputationGecko Group = Reputations
///@ Property Critter Protected int ReputationBrokenHills Group = Reputations
///@ Property Critter Protected int ReputationNewReno Group = Reputations
///@ Property Critter Protected int ReputationSierra Group = Reputations
///@ Property Critter Protected int ReputationVault15 Group = Reputations
///@ Property Critter Protected int ReputationNCR Group = Reputations
///@ Property Critter Protected int ReputationCathedral Group = Reputations
///@ Property Critter Protected int ReputationSAD Group = Reputations
///@ Property Critter Protected int ReputationRedding Group = Reputations
///@ Property Critter Protected int ReputationSF Group = Reputations
///@ Property Critter Protected int ReputationNavarro Group = Reputations
///@ Property Critter Protected int ReputationArroyo Group = Reputations
///@ Property Critter Protected int ReputationPrimalTribe Group = Reputations
///@ Property Critter Protected int ReputationRangers Group = Reputations
///@ Property Critter Protected int ReputationVault13 Group = Reputations
///@ Property Critter Protected int ReputationSacramento Group = Reputations

// Addictions
///@ Property Critter Protected bool[] Addictions
///@ Property Critter VirtualProtected bool IsAddicted
///@ Property Critter Protected bool IsJetAddicted
///@ Property Critter Protected bool IsBuffoutAddicted
///@ Property Critter Protected bool IsMentatsAddicted
///@ Property Critter Protected bool IsPsychoAddicted
///@ Property Critter Protected bool IsRadawayAddicted

// Damage resistance
///@ Property Critter VirtualProtected int[] DamageResistance
///@ Property Critter VirtualProtected int   NormalResistance
///@ Property Critter VirtualProtected int   PoisonResistance
///@ Property Critter VirtualProtected int   RadiationResistance
///@ Property Critter VirtualProtected int   ExplodeResistance
///@ Property Critter Protected        int   NormalResistanceBase      Group = ResistsBase
///@ Property Critter Protected        int   LaserResistanceBase       Group = ResistsBase
///@ Property Critter Protected        int   FireResistanceBase        Group = ResistsBase
///@ Property Critter Protected        int   PlasmaResistanceBase      Group = ResistsBase
///@ Property Critter Protected        int   ElectricityResistanceBase Group = ResistsBase
///@ Property Critter Protected        int   EmpResistanceBase         Group = ResistsBase
///@ Property Critter Protected        int   ExplodeResistanceBase     Group = ResistsBase
///@ Property Critter Protected        int   PoisonResistanceBase      Group = ResistsBase
///@ Property Critter Protected        int   RadiationResistanceBase   Group = ResistsBase
///@ Property Critter VirtualProtected int[] DamageThreshold
///@ Property Critter Protected        int   NormalThresholdBase      Group = ThresholdsBase
///@ Property Critter Protected        int   LaserThresholdBase       Group = ThresholdsBase
///@ Property Critter Protected        int   FireThresholdBase        Group = ThresholdsBase
///@ Property Critter Protected        int   PlasmaThresholdBase      Group = ThresholdsBase
///@ Property Critter Protected        int   ElectricityThresholdBase Group = ThresholdsBase
///@ Property Critter Protected        int   EmpThresholdBase         Group = ThresholdsBase
///@ Property Critter Protected        int   ExplodeThresholdBase     Group = ThresholdsBase
///@ Property Critter Protected        int   PoisonThresholdBase      Group = ThresholdsBase
///@ Property Critter Protected        int   RadiationThresholdBase   Group = ThresholdsBase

// Damages
///@ Property Critter Protected     bool IsPoisoned
///@ Property Critter Protected     bool IsRadiated
///@ Property Critter VirtualPublic bool IsInjured
///@ Property Critter Public        bool IsDamagedEye
///@ Property Critter Public        bool IsDamagedRightArm
///@ Property Critter Public        bool IsDamagedLeftArm
///@ Property Critter Public        bool IsDamagedRightLeg
///@ Property Critter Public        bool IsDamagedLeftLeg

// Custom vars
///@ Property Critter Public int Var0
///@ Property Critter Public int Var1
///@ Property Critter Public int Var2
///@ Property Critter Public int Var3
///@ Property Critter Public int Var4
///@ Property Critter Public int Var5
///@ Property Critter Public int Var6
///@ Property Critter Public int Var7
///@ Property Critter Public int Var8
///@ Property Critter Public int Var9

// Skills
///@ Property Critter Protected int SkillSmallGuns Group = Skills
///@ Property Critter Protected int SkillBigGuns Group = Skills
///@ Property Critter Protected int SkillEnergyWeapons Group = Skills
///@ Property Critter Protected int SkillUnarmed Group = Skills
///@ Property Critter Protected int SkillMeleeWeapons Group = Skills
///@ Property Critter Protected int SkillThrowing Group = Skills
///@ Property Critter Protected int SkillFirstAid Group = Skills
///@ Property Critter Protected int SkillDoctor Group = Skills
///@ Property Critter Protected int SkillSneak Group = Skills
///@ Property Critter Protected int SkillLockpick Group = Skills
///@ Property Critter Protected int SkillSteal Group = Skills
///@ Property Critter Protected int SkillTraps Group = Skills
///@ Property Critter Protected int SkillScience Group = Skills
///@ Property Critter Protected int SkillRepair Group = Skills
///@ Property Critter Protected int SkillSpeech Group = Skills
///@ Property Critter Protected int SkillBarter Group = Skills
///@ Property Critter Protected int SkillGambling Group = Skills
///@ Property Critter Protected int SkillOutdoorsman Group = Skills

// Tag skills
///@ Property Critter VirtualProtected CritterProperty[] TagSkills
///@ Property Critter Protected        CritterProperty TagSkill1
///@ Property Critter Protected        CritterProperty TagSkill2
///@ Property Critter Protected        CritterProperty TagSkill3

// Perks
///@ Property Critter Protected uint8 PerkBookworm Group = Perks
///@ Property Critter Protected uint8 PerkAwareness Group = Perks
///@ Property Critter Protected uint8 PerkBonusHthAttacks Group = Perks
///@ Property Critter Protected uint8 PerkBonusHthDamage Group = Perks
///@ Property Critter Protected uint8 PerkBonusRangedDamage Group = Perks
///@ Property Critter Protected uint8 PerkBonusRateOfFire Group = Perks
///@ Property Critter Protected uint8 PerkEarlierSequence Group = Perks
///@ Property Critter Protected uint8 PerkFasterHealing Group = Perks
///@ Property Critter Protected uint8 PerkMoreCriticals Group = Perks
///@ Property Critter Protected uint8 PerkNightVision Group = Perks
///@ Property Critter Protected uint8 PerkRadResistance Group = Perks
///@ Property Critter Protected uint8 PerkToughness Group = Perks
///@ Property Critter Protected uint8 PerkStrongBack Group = Perks
///@ Property Critter Protected uint8 PerkSharpshooter Group = Perks
///@ Property Critter Protected uint8 PerkSurvivalist Group = Perks
///@ Property Critter Protected uint8 PerkEducated Group = Perks
///@ Property Critter Protected uint8 PerkHealer Group = Perks
///@ Property Critter Protected uint8 PerkFortuneFinder Group = Perks
///@ Property Critter Protected uint8 PerkBetterCriticals Group = Perks
///@ Property Critter Protected uint8 PerkEmpathy Group = Perks
///@ Property Critter Protected uint8 PerkSlayer Group = Perks
///@ Property Critter Protected uint8 PerkSniper Group = Perks
///@ Property Critter Protected uint8 PerkSilentDeath Group = Perks
///@ Property Critter Protected uint8 PerkActionBoy Group = Perks
///@ Property Critter Protected uint8 PerkMentalBlock Group = Perks
///@ Property Critter Protected uint8 PerkLifegiver Group = Perks
///@ Property Critter Protected uint8 PerkDodger Group = Perks
///@ Property Critter Protected uint8 PerkSnakeater Group = Perks
///@ Property Critter Protected uint8 PerkMrFixit Group = Perks
///@ Property Critter Protected uint8 PerkMedic Group = Perks
///@ Property Critter Protected uint8 PerkMasterThief Group = Perks
///@ Property Critter Protected uint8 PerkSpeaker Group = Perks
///@ Property Critter Protected uint8 PerkHeaveHo Group = Perks
///@ Property Critter Protected uint8 PerkFriendlyFoe Group = Perks
///@ Property Critter Protected uint8 PerkPickpocket Group = Perks
///@ Property Critter Protected uint8 PerkGhost Group = Perks
///@ Property Critter Protected uint8 PerkCultOfPersonality Group = Perks
///@ Property Critter Protected uint8 PerkScrounger Group = Perks
///@ Property Critter Protected uint8 PerkExplorer Group = Perks
///@ Property Critter Protected uint8 PerkFlowerChild Group = Perks
///@ Property Critter Protected uint8 PerkPathfinder Group = Perks
///@ Property Critter Protected uint8 PerkAnimalFriend Group = Perks
///@ Property Critter Protected uint8 PerkScout Group = Perks
///@ Property Critter Protected uint8 PerkMysteriousStranger Group = Perks
///@ Property Critter Protected uint8 PerkRanger Group = Perks

///@ Property Critter Protected uint8 PerkSmoothTalker Group = Perks
///@ Property Critter Protected uint8 PerkSwiftLearner Group = Perks
///@ Property Critter Protected uint8 PerkTag Group = Perks
///@ Property Critter Protected uint8 PerkMutate Group = Perks
///@ Property Critter Public    uint8 PerkAdrenalineRush Group = Perks
///@ Property Critter Protected uint8 PerkCautiousNature Group = Perks
///@ Property Critter Protected uint8 PerkComprehension Group = Perks
///@ Property Critter Protected uint8 PerkDemolitionExpert Group = Perks
///@ Property Critter Protected uint8 PerkGambler Group = Perks
///@ Property Critter Protected uint8 PerkGainStrength Group = Perks
///@ Property Critter Protected uint8 PerkGainPerception Group = Perks
///@ Property Critter Protected uint8 PerkGainEndurance Group = Perks
///@ Property Critter Protected uint8 PerkGainCharisma Group = Perks
///@ Property Critter Protected uint8 PerkGainIntelligence Group = Perks
///@ Property Critter Protected uint8 PerkGainAgility Group = Perks
///@ Property Critter Protected uint8 PerkGainLuck Group = Perks
///@ Property Critter Protected uint8 PerkHarmless Group = Perks
///@ Property Critter Protected uint8 PerkHereAndNow Group = Perks
///@ Property Critter Protected uint8 PerkHthEvade Group = Perks
///@ Property Critter Protected uint8 PerkKamaSutraMaster Group = Perks
///@ Property Critter Protected uint8 PerkKarmaBeacon Group = Perks
///@ Property Critter Protected uint8 PerkLightStep Group = Perks
///@ Property Critter Protected uint8 PerkLivingAnatomy Group = Perks
///@ Property Critter Protected uint8 PerkMagneticPersonality Group = Perks
///@ Property Critter Protected uint8 PerkNegotiator Group = Perks
///@ Property Critter Protected uint8 PerkPackRat Group = Perks
///@ Property Critter Protected uint8 PerkPyromaniac Group = Perks
///@ Property Critter Protected uint8 PerkQuickRecovery Group = Perks
///@ Property Critter Protected uint8 PerkSalesman Group = Perks
///@ Property Critter Protected uint8 PerkStonewall Group = Perks
///@ Property Critter Protected uint8 PerkThief Group = Perks
///@ Property Critter Protected uint8 PerkWeaponHandling Group = Perks
///@ Property Critter Protected uint8 PerkVaultCityTraining Group = Perks
///@ Property Critter Protected uint8 PerkExpertExcrement Group = Perks
///@ Property Critter Protected uint8 PerkTerminator Group = Perks
///@ Property Critter Protected uint8 PerkGeckoSkinning Group = Perks
///@ Property Critter Protected uint8 PerkVaultCityInoculations Group = Perks
///@ Property Critter Protected uint8 PerkDermalImpact Group = Perks
///@ Property Critter Protected uint8 PerkDermalImpactEnh Group = Perks
///@ Property Critter Protected uint8 PerkPhoenixImplants Group = Perks
///@ Property Critter Protected uint8 PerkPhoenixImplantsEnh Group = Perks
///@ Property Critter Protected uint8 PerkNcrPerception Group = Perks
///@ Property Critter Protected uint8 PerkNcrEndurance Group = Perks
///@ Property Critter Protected uint8 PerkNcrBarter Group = Perks
///@ Property Critter Protected uint8 PerkNcrRepair Group = Perks
///@ Property Critter Protected uint8 PerkVampireAccuracy Group = Perks
///@ Property Critter Protected uint8 PerkVampireRegeneration Group = Perks
///@ Property Critter Protected uint8 PerkQuickPockets Group = Perks
///@ Property Critter Protected uint8 PerkMasterTrader Group = Perks
///@ Property Critter Protected uint8 PerkSilentRunning Group = Perks
///@ Property Critter Protected uint8 PerkBonusMove Group = Perks

// Karma perks
///@ Property Critter Protected uint8 KarmaPerkBerserker Group = KarmaPerks
///@ Property Critter Protected uint8 KarmaPerkChampion Group = KarmaPerks
///@ Property Critter Protected uint  KarmaPerkChildkiller Group = KarmaPerks
///@ Property Critter Protected uint8 KarmaPerkSexpert Group = KarmaPerks
///@ Property Critter Protected uint8 KarmaPerkPrizefighter Group = KarmaPerks
///@ Property Critter Protected uint8 KarmaPerkGigolo Group = KarmaPerks
///@ Property Critter Protected uint8 KarmaPerkGraveDigger Group = KarmaPerks
///@ Property Critter Protected uint8 KarmaPerkMarried Group = KarmaPerks
///@ Property Critter Protected uint8 KarmaPerkPornStar Group = KarmaPerks
///@ Property Critter Protected uint8 KarmaPerkSlaver Group = KarmaPerks
///@ Property Critter Protected uint8 KarmaPerkVirginWastes Group = KarmaPerks
///@ Property Critter Protected uint8 KarmaPerkManSalvatore Group = KarmaPerks
///@ Property Critter Protected uint8 KarmaPerkManBishop Group = KarmaPerks
///@ Property Critter Protected uint8 KarmaPerkManMordino Group = KarmaPerks
///@ Property Critter Protected uint8 KarmaPerkManWright Group = KarmaPerks
///@ Property Critter Protected uint8 KarmaPerkSeparated Group = KarmaPerks
///@ Property Critter Protected uint8 KarmaPerkPedobear Group = KarmaPerks
///@ Property Critter Protected uint8 KarmaPerkVcGuardsman Group = KarmaPerks

// Traits
///@ Property Critter Protected bool IsTraitFastMetabolism Group = Traits
///@ Property Critter Protected bool IsTraitBruiser Group = Traits
///@ Property Critter Protected bool IsTraitSmallFrame Group = Traits
///@ Property Critter Protected bool IsTraitOneHander Group = Traits
///@ Property Critter Protected bool IsTraitFinesse Group = Traits
///@ Property Critter Protected bool IsTraitKamikaze Group = Traits
///@ Property Critter Protected bool IsTraitHeavyHanded Group = Traits
///@ Property Critter Protected bool IsTraitFastShot Group = Traits
///@ Property Critter Protected bool IsTraitBloodyMess Group = Traits
///@ Property Critter Protected bool IsTraitJinxed Group = Traits
///@ Property Critter Protected bool IsTraitJinxedII Group = Traits
///@ Property Critter Protected bool IsTraitGoodNatured Group = Traits
///@ Property Critter Protected bool IsTraitChemReliant Group = Traits
///@ Property Critter Protected bool IsTraitChemResistant Group = Traits
///@ Property Critter Protected bool IsTraitSexAppeal Group = Traits
///@ Property Critter Protected bool IsTraitSkilled Group = Traits
///@ Property Critter Protected bool IsTraitNightPerson Group = Traits

// Timeouts
///@ Property Critter Protected uint TimeoutSkFirstAid Group = Timeouts
///@ Property Critter Protected uint TimeoutSkDoctor Group = Timeouts
///@ Property Critter Protected uint TimeoutSkRepair Group = Timeouts
///@ Property Critter Protected uint TimeoutSkScience Group = Timeouts
///@ Property Critter Protected uint TimeoutSkLockpick Group = Timeouts
///@ Property Critter Protected uint TimeoutSkSteal Group = Timeouts
///@ Property Critter Protected uint TimeoutSkOutdoorsman Group = Timeouts
///@ Property Critter Protected uint TimeoutReplication Group = Timeouts
///@ Property Critter Protected uint TimeoutKarmaVoting Group = Timeouts
///@ Property Critter Protected uint TimeoutSneak Group = Timeouts
///@ Property Critter Protected uint TimeoutHealing Group = Timeouts
///@ Property Critter Protected uint TimeoutStealing Group = Timeouts
///@ Property Critter Protected uint TimeoutAggressor Group = Timeouts

// Mercs
///@ Property Critter PrivateServer uint MercMasterId       Group = Mercs // Id хозяина мерка
///@ Property Critter PrivateServer bool MercAlwaysRun      Group = Mercs // Признак мерк перемещаетя бегом при следовании за хозяином
///@ Property Critter PrivateServer bool MercCancelOnAttack Group = Mercs // Признак отменяет ли мерк службу если хозяин атакует самого мерка
///@ Property Critter PrivateServer uint MercLoseDist       Group = Mercs // Дистанция при превышении которой мерк "отстает" от хозяина и отменяет режиме мерка
///@ Property Critter PrivateServer uint MercMasterDist     Group = Mercs // Дистанция которой придерживается мерк в режиме следования за хозяином
///@ Property Critter PrivateServer int  MercType           Group = Mercs // Тип мерка см. Merch
///@ Property Critter PrivateServer bool MercDefendMaster   Group = Mercs // Признак: мерк защищает хозяина если тот атакован
///@ Property Critter PrivateServer bool MercAssistMaster   Group = Mercs // Признак: если хозяин атакует цель мерк присоединяется к атаке
///@ Property Critter PrivateServer uint MercCancelTime     Group = Mercs // Время завершения службы
///@ Property Critter PrivateServer bool MercCancelOnGlobal Group = Mercs // Признак: мерк отменяет службу если хозяин вышел на глобальную карту
///@ Property Critter PrivateServer bool MercWaitForMaster  Group = Mercs // Признак: мерк ожидает хозяина на конкретном месте

// Quest
///@ Property Critter Protected     uint8    ArroyoMynocDefence          Group = Quests Quest = 4702    Max = 8
///@ Property Critter Protected     uint8    ArroyoCassidyLetter         Group = Quests Quest = 4705    Max = 4
///@ Property Critter Protected     uint8    ArroyoMynocOil              Group = Quests Quest = 4701    Max = 3
///@ Property Critter Protected     uint8    ArroyoProofOfDeath          Group = Quests Quest = 4706    Max = 4
///@ Property Critter Protected     uint8    ArroyoLetterToLinnett       Group = Quests Quest = 4707    Max = 4

///@ Property Critter Protected     uint8    KlamSallyFindProstitute     Group = Quests Quest = 3224    Max = 3
///@ Property Critter Protected     uint8    KlamBobWater                Group = Quests Quest = 3201    Max = 3
///@ Property Critter Protected     uint8    KlamFindTrappers            Group = Quests Quest = 3223    Max = 11
///@ Property Critter Protected     uint8    KlamBugenLure               Group = Quests Quest = 3230    Max = 9
///@ Property Critter Protected     uint8    KlamNotifyHusband           Group = Quests Quest = 3229    Max = 4
///@ Property Critter Protected     uint8    KlamEidenBramin             Group = Quests Quest = 3221    Max = 6
///@ Property Critter Protected     uint8    KlamSmilyModoc              Group = Quests Quest = 3206    Max = 2

///@ Property Critter Protected     uint8    DenBillRacingWin            Group = Quests Quest = 3152    Max = 7
///@ Property Critter Protected     uint8    DenLeannaCondom             Group = Quests Quest = 3100    Max = 3
///@ Property Critter Protected     uint8    QDenAnanDoll                Group = Quests Quest = 3145    Max = 3
///@ Property Critter Protected     uint8    DenAnanRedoll               Group = Quests Quest = 3146    Max = 3
///@ Property Critter Protected     uint8    DenGhost                    Group = Quests Quest = 3103    Max = 11
///@ Property Critter Protected     uint8    DenBillRacingOpening        Group = Quests Quest = 3151    Max = 2
///@ Property Critter Protected     uint8    DenCarstopJeffry            Group = Quests Quest = 3106    Max = 4
///@ Property Critter Protected     uint8    DenCarstopBrahmin           Group = Quests Quest = 3127    Max = 11
///@ Property Critter Protected     uint8    DenCarstopBreeder           Group = Quests Quest = 3126    Max = 3
///@ Property Critter Protected     uint8    DenJoeySteal                Group = Quests Quest = 3112    Max = 4
///@ Property Critter Protected     uint8    DenJaneDolg                 Group = Quests Quest = 3117    Max = 3
///@ Property Critter Protected     uint8    DenJanePsycho               Group = Quests Quest = 3116    Max = 3
///@ Property Critter Protected     uint8    DenLaraPostal               Group = Quests Quest = 3131    Max = 4
///@ Property Critter Protected     uint8    DenFlikJet                  Group = Quests Quest = 3135    Max = 4
///@ Property Critter Protected     uint8    DenLaraBand                 Group = Quests Quest = 3134    Max = 3
///@ Property Critter Protected     uint8    DenJoeyLoan                 Group = Quests Quest = 3107    Max = 3
///@ Property Critter Protected     uint8    DenLaraBos                  Group = Quests Quest = 3132    Max = 3
///@ Property Critter Protected     uint8    QDenCliffDealer             Group = Quests Quest = 3144    Max = 4
///@ Property Critter Protected     uint8    DenFredStim                 Group = Quests Quest = 3137    Max = 2
///@ Property Critter Protected     uint8    DenJaneVodka                Group = Quests Quest = 3122    Max = 4
///@ Property Critter Protected     uint8    DenMomSlut                  Group = Quests Quest = 3101    Max = 3
///@ Property Critter Protected     uint8    DenSmittyBatt               Group = Quests Quest = 3139    Max = 3
///@ Property Critter Protected     uint8    DenJaneMeat                 Group = Quests Quest = 3121    Max = 4
///@ Property Critter Protected     uint8    DenJaneStim                 Group = Quests Quest = 3123    Max = 4
///@ Property Critter Protected     uint8    DenLaraMolotovCoctail       Group = Quests Quest = 3105    Max = 3
///@ Property Critter Protected     uint8    DenLeannaBuy                Group = Quests Quest = 3142    Max = 4
///@ Property Critter Protected     uint8    DenSmittyBoots              Group = Quests Quest = 3128    Max = 3
///@ Property Critter Protected     uint8    DenJaneGuns                 Group = Quests Quest = 3124    Max = 4
///@ Property Critter Protected     uint8    DenSmittyKey                Group = Quests Quest = 3140    Max = 3
///@ Property Critter Protected     uint8    DenJaneArmor                Group = Quests Quest = 3125    Max = 4
///@ Property Critter Protected     uint8    DenSmittyAmmo               Group = Quests Quest = 3141    Max = 4
///@ Property Critter Protected     uint8    DenJaneHunt                 Group = Quests Quest = 3115    Max = 3
///@ Property Critter Protected     uint8    DenJoeyKnife                Group = Quests Quest = 3109    Max = 3
///@ Property Critter Protected     uint8    DenJoeyLara                 Group = Quests Quest = 3111    Max = 4
///@ Property Critter Protected     uint8    DenJaneRadio                Group = Quests Quest = 3113    Max = 4
///@ Property Critter Protected     uint8    DenJoeyJet                  Group = Quests Quest = 3110    Max = 4
///@ Property Critter Protected     uint8    DenLaraTrust                Group = Quests Quest = 3130    Max = 2
///@ Property Critter Protected     uint8    DenLeannaWine               Group = Quests Quest = 3143    Max = 4
///@ Property Critter Protected     uint8    DenMomRadscorp              Group = Quests Quest = 3102    Max = 2
///@ Property Critter Protected     uint8    DenSmittyFixit              Group = Quests Quest = 3104    Max = 4
///@ Property Critter Protected     uint8    QDenLeannaThief             Group = Quests Quest = 3138    Max = 4

///@ Property Critter Protected     uint8    ModJoeFarm                  Group = Quests Quest = 3306    Max = 3
///@ Property Critter Protected     uint8    ModHose                     Group = Quests Quest = 3300    Max = 3
///@ Property Critter Protected     uint8    ModBaltasGecko              Group = Quests Quest = 3302    Max = 3
///@ Property Critter Protected     uint8    ModLourenceRatsColony       Group = Quests Quest = 3324    Max = 4
///@ Property Critter Protected     uint8    ModLourenceFloater          Group = Quests Quest = 3320    Max = 4
///@ Property Critter Protected     uint8    ModJoeVampire               Group = Quests Quest = 3308    Max = 11

///@ Property Critter Protected     uint8    BHMarcusEscort              Group = Quests Quest = 3608    Max = 5
///@ Property Critter Protected     uint8    BHSuperNewTechnology        Group = Quests Quest = 3604    Max = 5

///@ Property Critter Protected     uint8    ReddDocRadio                Group = Quests Quest = 4330    Max = 6
///@ Property Critter Protected     uint8    ReddDocRadioTroy            Group = Quests Quest = 4331    Max = 1
///@ Property Critter Protected     uint8    ReddDocRadioFung            Group = Quests Quest = 4332    Max = 1
///@ Property Critter Protected     uint8    ReddDocRadioHoliday         Group = Quests Quest = 4333    Max = 1
///@ Property Critter Protected     uint8    ReddDocRadioJubiley         Group = Quests Quest = 4334    Max = 1
///@ Property Critter Protected     uint8    ReddHubbChildkiller         Group = Quests Quest = 4312    Max = 7
///@ Property Critter Protected     uint8    ReddMarionVinamingo         Group = Quests Quest = 4303    Max = 18
///@ Property Critter Protected     uint8    ReddDoctorDelivery          Group = Quests Quest = 5310    Max = 3

///@ Property Critter Protected     uint8    NavHenryProtoMaterials      Group = Quests Quest = 4509    Max = 2
///@ Property Critter Protected     uint8    NavSoftJob                  Group = Quests Quest = 4506    Max = 2

///@ Property Critter Protected     uint8    NcrHatePatrol               Group = Quests Quest = 4292    Max = 11
///@ Property Critter Protected     uint8    NcrSantiagaFindSpyStatus    Group = Quests Quest = 4273    Max = 21
///@ Property Critter Protected     uint8    NcrBusterBrokenrifles       Group = Quests Quest = 4286    Max = 15
///@ Property Critter Protected     uint8    NcrKessMedBoardStatus       Group = Quests Quest = 4232    Max = 3
///@ Property Critter Protected     uint8    NcrDorotyFindHenryPapers    Group = Quests Quest = 4288    Max = 2
///@ Property Critter Protected     uint8    NcrLeadSmit2Dustybar        Group = Quests Quest = 4218    Max = 4
///@ Property Critter Protected     uint8    NcrKyleReddRecon            Group = Quests Quest = 4270    Max = 2
///@ Property Critter Protected     uint8    NcrDuppoFindDasies          Group = Quests Quest = 4289    Max = 2
///@ Property Critter Protected     uint8    NcrDappoLostC               Group = Quests Quest = 4228    Max = 5

///@ Property Critter Protected     uint8    QChosen                     Group = Quests Quest = 5003    Max = 15

///@ Property Critter Protected     uint8    NRBarmenEscort              Group = Quests Quest = 3714    Max = 4

///@ Property Critter Protected     uint8    SFAhs7ImperatorFormat       Group = Quests Quest = 4421    Max = 7
///@ Property Critter Protected     uint8    SFEvaHelpWithZax            Group = Quests Quest = 4402    Max = 10
///@ Property Critter Protected     uint8    SFKenliImperatorRestore     Group = Quests Quest = 4420    Max = 10
///@ Property Critter Protected     uint8    SFLoPanBlackmail            Group = Quests Quest = 4411    Max = 3
///@ Property Critter Protected     uint8    SFTigangRecipe              Group = Quests Quest = 4440    Max = 2
///@ Property Critter Protected     uint8    SFNarcoman                  Group = Quests Quest = 4410    Max = 2
///@ Property Critter Protected     uint8    SFAhs7Invitations           Group = Quests Quest = 4428    Max = 5
///@ Property Critter Protected     uint8    SFSlimSidnancy              Group = Quests Quest = 4424    Max = 6

///@ Property Critter Protected     uint8    VCLetterToTodd              Group = Quests Quest = 8848    Max = 10
///@ Property Critter Protected     uint8    VCValeryMail                Group = Quests Quest = 8811    Max = 4
///@ Property Critter Protected     uint8    VCCindyLetter               Group = Quests Quest = 8847    Max = 6
///@ Property Critter Protected     uint8    VCHartmannRecon             Group = Quests Quest = 8829    Max = 5
///@ Property Critter Protected     uint8    VCHartmanNcrHelp            Group = Quests Quest = 8834    Max = 4
///@ Property Critter Protected     uint8    VCBarmenDelivery            Group = Quests Quest = 8805    Max = 2
///@ Property Critter Protected     uint8    VCCharlie                   Group = Quests Quest = 8802    Max = 4
///@ Property Critter Protected     uint8    VCTroyFreshBlood            Group = Quests Quest = 8808    Max = 8
///@ Property Critter Protected     uint8    VCAndrewDeliveries          Group = Quests Quest = 8803    Max = 3
///@ Property Critter Protected     uint8    VCBlackEscort               Group = Quests Quest = 8817    Max = 5
///@ Property Critter Protected     uint8    VCHartmanFight              Group = Quests Quest = 8819    Max = 2
///@ Property Critter Protected     uint8    VCLynettScareNewcomers      Group = Quests Quest = 8841    Max = 5
///@ Property Critter Protected     uint8    VCHartmanRifles             Group = Quests Quest = 8822    Max = 3
///@ Property Critter Protected     uint8    VCHeleneTroyBeauty          Group = Quests Quest = 8813    Max = 4

///@ Property Critter Protected     uint8    TribSulikStuff              Group = Quests Quest = 4602    Max = 10
///@ Property Critter Protected     uint8    TribMuscoTest               Group = Quests Quest = 4605    Max = 10
///@ Property Critter Protected     uint8    TribShamanPowder            Group = Quests Quest = 4603    Max = 10
///@ Property Critter Protected     uint8    TribMaiaraBook              Group = Quests Quest = 4604    Max = 10
///@ Property Critter Protected     uint8    TribManotaNecklace          Group = Quests Quest = 4601    Max = 10

// Other
///@ Property Critter PrivateServer uint     BHDeadSaboteursCounter  Max = 40
///@ Property Critter PrivateServer uint8    SpecialAndroid          Max = 3
///@ Property Critter PrivateServer uint8    VCLynettRefuse          Max = 2
///@ Property Critter PrivateServer uint     DialogTimeout
///@ Property Critter PrivateServer uint     EncLoyalityHubologists
///@ Property Critter PrivateServer uint     EncLoyalityNcr
///@ Property Critter PrivateServer uint     EncLoyalityVCity
///@ Property Critter PrivateServer uint     EncLoyalityRedding
///@ Property Critter PrivateServer uint     EncLoyalityBroken
///@ Property Critter PrivateServer uint     EncLoyalityGecko
///@ Property Critter PrivateServer uint     EncLoyalityArroyo
///@ Property Critter PrivateServer uint     EncLoyalityKlamath
///@ Property Critter PrivateServer uint     EncLoyalityModoc
///@ Property Critter PrivateServer uint     EncLoyalityDen
///@ Property Critter PrivateServer uint     EncLoyalityReno
///@ Property Critter PrivateServer uint     EncLoyalityEnclave
///@ Property Critter PrivateServer uint     EncLoyalitySf
///@ Property Critter PrivateServer uint8    ModLourenceToxinRecipe                             Max = 1
///@ Property Critter PrivateServer uint8    SFChitinArmorRecipeKnown                           Max = 1
///@ Property Critter PrivateServer uint8    SpyCathActive                                      Max = 1
///@ Property Critter PrivateServer uint8    HasNotCard                                         Max = 1
///@ Property Critter PrivateServer uint     SexExp                                             Max = 501
///@ Property Critter PrivateServer uint     ScenFraction                                       Max = 10
///@ Property Critter PrivateServer uint8    ArroyoDocHealing                                   Max = 2
///@ Property Critter PrivateServer uint8    AtollTesla                                         Max = 2
///@ Property Critter PrivateServer uint8    AtollMoney                                         Max = 2
///@ Property Critter PrivateServer uint     BHEscortNpcId
///@ Property Critter PrivateServer uint8    ScenBosSoldier                                     Max = 10
///@ Property Critter PrivateServer uint8    SFInvasionBadge                                    Max = 1
///@ Property Critter PrivateServer uint8    ScenBosScriber                                     Max = 10
///@ Property Critter PrivateServer uint8    ScenEnclaveSoldier                                 Max = 10
///@ Property Critter PrivateServer uint8    ScenEnclaveScient                                  Max = 10
///@ Property Critter PrivateServer uint8    DenJaneTraderFred                                  Max = 10
///@ Property Critter PrivateServer uint8    DenJaneJobCounter                                  Max = 10
///@ Property Critter PrivateServer uint8    DenJoeyCounter               Default = 3          Max = 10
///@ Property Critter PrivateServer uint8    DenLaraBosCounter            Default = 2          Max = 10
///@ Property Critter PrivateServer uint8    DenJaneTraderMom                                   Max = 10
///@ Property Critter PrivateServer uint8    DenNarcCommMember                                  Max = 10
///@ Property Critter PrivateServer uint8    DenJaneTraderLean                                  Max = 10
///@ Property Critter PrivateServer uint8    EncOceanTraderFamiliar                             Max = 5
///@ Property Critter PrivateServer uint8    ModBaltasArmor1                                    Max = 10
///@ Property Critter PrivateServer uint8    GeckGaroldTrain                                    Max = 1
///@ Property Critter PrivateServer uint8    GeckSkitrTransit                                   Max = 3
///@ Property Critter PrivateServer uint8    KlamBaknerBeer                                     Max = 1
///@ Property Critter Protected     uint8    ModBaltasArmor                                     Max = 10
///@ Property Critter PrivateServer uint8    KlamVaccination                                    Max = 2
///@ Property Critter PrivateServer uint8    KlamVaccinationB1                                  Max = 1
///@ Property Critter PrivateServer uint8    KlamVaccinationB2                                  Max = 1
///@ Property Critter PrivateServer uint8    KlamVaccinationB3                                  Max = 1
///@ Property Critter PrivateServer uint8    KlamGoldBeer                                       Max = 1
///@ Property Critter PrivateServer uint8    KlamSallyPay                                       Max = 5
///@ Property Critter PrivateServer uint8    ModBaltasArmor2                                    Max = 10
///@ Property Critter PrivateServer uint8    KlamVicFixittrash                                  Max = 1
///@ Property Critter PrivateServer uint8    ModHoseTools                                       Max = 1
///@ Property Critter PrivateServer uint8    ModVampireReaction                                 Max = 2
///@ Property Critter PrivateServer uint8    NcrAlexQuestStatus                                 Max = 7
///@ Property Critter PrivateServer uint8    NcrDustyPartyStatusChar                            Max = 2
///@ Property Critter PrivateServer uint8    NcrMiraTroubleStatusChar                           Max = 4
///@ Property Critter PrivateServer uint8    NcrBeggarTalk                                      Max = 1
///@ Property Critter PrivateServer uint8    NcrDorothyGammaStatusChar                          Max = 2
///@ Property Critter PrivateServer uint8    NcrDumontBrkradioStatusChar                        Max = 10
///@ Property Critter PrivateServer uint8    NcrCaptainFlirtStatusChar                          Max = 1
///@ Property Critter PrivateServer uint8    NcrIsNightGuardAccessFranted                       Max = 1
///@ Property Critter PrivateServer uint8    NcrClausHistory                                    Max = 1
///@ Property Critter PrivateServer uint8    NcrJubileyTailsStatus                              Max = 15
///@ Property Critter PrivateServer uint8    NcrRondoDorotyStatus                               Max = 3
///@ Property Critter PrivateServer uint8    NcrFergusStory                                     Max = 1
///@ Property Critter PrivateServer uint8    NcrCaptainSmitAccessGranted                        Max = 1
///@ Property Critter PrivateServer uint8    NcrJubileyTailsCounter                             Max = 15
///@ Property Critter PrivateServer uint8    NcrBusterDorotyStatus                              Max = 3
///@ Property Critter PrivateServer uint8    NcrFergusSecret                                    Max = 1
///@ Property Critter PrivateServer uint8    NcrGunterStory                                     Max = 1
///@ Property Critter PrivateServer uint     ScenRangerRank               Default = 2000       Max = 13000
///@ Property Critter PrivateServer uint8    NcrDustyFoodDeliveryStatus                         Max = 3
///@ Property Critter PrivateServer uint8    NcrPlayerLeadSmit2Dustybar                         Max = 5
///@ Property Critter PrivateServer uint8    NcrKarlStory                                       Max = 1
///@ Property Critter PrivateServer uint8    NcrCarlsonStory                                    Max = 1
///@ Property Critter PrivateServer uint8    NcrKukComp                                         Max = 1
///@ Property Critter PrivateServer uint8    NcrMicQStatus                                      Max = 2
///@ Property Critter PrivateServer uint8    ScenRanger                                         Max = 5
///@ Property Critter PrivateServer uint8    NcrDumontHistory                                   Max = 1
///@ Property Critter PrivateServer uint8    NcrMicQCptnDumbCounter                             Max = 10
///@ Property Critter PrivateServer uint8    NcrPlayerHasMultipass                              Max = 1
///@ Property Critter PrivateServer uint8    NcrSmitVsVestinResult                              Max = 5
///@ Property Critter PrivateServer uint8    NRJukeboxSeen                                      Max = 1
///@ Property Critter PrivateServer uint8    VCTrainigAccess                                    Max = 1
///@ Property Critter PrivateServer uint8    NcrLennyFight                                      Max = 1
///@ Property Critter PrivateServer uint8    NcrRatchPlayerPoints                               Max = 15
///@ Property Critter PrivateServer uint8    NRJesusTrain                                       Max = 10
///@ Property Critter PrivateServer uint8    PurgSuppluysTaken                                  Max = 1
///@ Property Critter PrivateServer uint8    NcrWestinPillsStatus                               Max = 6
///@ Property Critter PrivateServer uint8    NcrWestinPlayerGetPrepayment                       Max = 2
///@ Property Critter PrivateServer uint8    SFHubJudgementIgnatStory                           Max = 1
///@ Property Critter PrivateServer uint8    ReddMinesPlayerThief                               Max = 1
///@ Property Critter PrivateServer uint8    ReddDocMedicals              Default = 50         Max = 100
///@ Property Critter PrivateServer uint8    NcrWestinPills                                     Max = 2
///@ Property Critter PrivateServer uint8    SFHubbStatus                                       Max = 9
///@ Property Critter PrivateServer uint8    SFInvasionSandbagsTaken                            Max = 6
///@ Property Critter PrivateServer uint8    SFInvasionSandbagsGiven      Default = 50         Max = 50
///@ Property Critter PrivateServer uint8    SFImperatorCancelNum                               Max = 4
///@ Property Critter PrivateServer uint8    VCShiComputerAccess                                Max = 1
///@ Property Critter PrivateServer uint8    TribManotaStory                                    Max = 1
///@ Property Critter PrivateServer uint8    VCKnowsAboutDelivery                               Max = 1
///@ Property Critter PrivateServer uint8    VCCitizenship                                      Max = 1
///@ Property Critter PrivateServer uint8    VCHartmanFightStatus                               Max = 3
///@ Property Critter PrivateServer uint8    VCFreshBloodCounter                                Max = 3
///@ Property Critter PrivateServer uint8    VCForgeryWitnessInhome                             Max = 1
///@ Property Critter PrivateServer uint8    VCLynetOrMaclure                                   Max = 2
///@ Property Critter PrivateServer uint8    VCMutCharleyHired                                  Max = 1
///@ Property Critter PrivateServer uint8    VCCavesCounter                                     Max = 4
///@ Property Critter PrivateServer uint8    VCPrisonerBulled                                   Max = 3
///@ Property Critter PrivateServer uint8    VCLynettTalk                                       Max = 1
///@ Property Critter PrivateServer uint8    VCPatrolCounter                                    Max = 3
///@ Property Critter PrivateServer uint     CaravanCrvId
///@ Property Critter PrivateServer uint     NpcDialogTimeWait
// Unicum vars
///@ Property Critter PrivateServer uint=>uint8 Loyality
///@ Property Critter PrivateServer uint=>bool  NpcStory
///@ Property Critter PrivateServer uint=>bool  NameMemNpcPlayer
///@ Property Critter PrivateServer uint=>bool  NameMemPlayerNpc
///@ Property Critter PrivateServer uint=>bool  TradeWas
///@ Property Critter PrivateServer uint=>uint8 ChanceOneFromTwo
///@ Property Critter PrivateServer uint=>uint8 ChanceOneFromThree
///@ Property Critter PrivateServer uint=>uint8 ChanceOneFromFive
///@ Property Critter PrivateServer uint=>bool  DenKliffBlessWas
///@ Property Critter PrivateServer uint=>bool  DenVirginiaSexWas
///@ Property Critter PrivateServer uint=>bool  NcrPlayerTalkPoliceman
///@ Property Critter PrivateServer uint=>bool  SFLoPanPayed

// Items
///@ Property Item PrivateServer    uint   V13GorisEggPlayerId

// Global
///@ Property Game PrivateServer int    ArroyoRaidersCount
///@ Property Game PrivateServer uint[] ArroyoLastDefenceGroup
///@ Property Game PrivateServer uint   ArroyoMynocMap
///@ Property Game PrivateServer bool   EncOceanTraderAlive
///@ Property Game PrivateServer bool   GameEventCaches
///@ Property Game PrivateServer uint8  RacingEvent
///@ Property Game PrivateServer bool   GEReplStationStatus
///@ Property Game PrivateServer uint8  NCRSiegeCampsNum   Max = 10
///@ Property Game PrivateServer uint8  SFBosArmourCounter Max = 3
///@ Property Game PrivateServer uint8  SFInvasionStatus   Max = 3
///@ Property Game PrivateServer uint8  DenLeannaThief
///@ Property Game PrivateServer uint8  DenCliffDealer
///@ Property Game PrivateServer uint8  DenAnanDollUse
///@ Property Game PrivateServer uint   KlamSmilyGeckoCounter
///@ Property Game PrivateServer int8   KlamTrappersRadaway
///@ Property Game PrivateServer uint   EndingArroyoTodd
///@ Property Game PrivateServer uint   EndingV13DclawRevival
///@ Property Game PrivateServer uint   GeckSkitrHired
///@ Property Game PrivateServer uint   NRBbarmenHired
///@ Property Game PrivateServer uint   NcrIsCurfewActive
///@ Property Game PrivateServer uint   NcrMicGuaranteeCounter
///@ Property Game PrivateServer uint   SFImperatorMemory  Default = 50 Max = 100
///@ Property Game PrivateServer uint8  GCityGeckSold      Max = 1
///@ Property Game PrivateServer uint8  VCBlackHired       Max = 1

// Pointer validation macro
// Example: if(valid(ptr))... if(not valid(ptr))...
#define valid #(ptr)(ptr != null)

// Flags
#define FLAG      #(x, flag)(((x) &(flag)) != 0)
#define SETFLAG   #(x, flag)(x =(x) |(flag))
#define UNSETFLAG #(x, flag)(x =((x) &(~(flag))))

// Items
#define _CritGetItemHand        #(cr) cr.GetItem(ItemProperty::CritSlot, SLOT_HAND1)
#define _CritGetItemHandExt     #(cr) cr.GetItem(ItemProperty::CritSlot, SLOT_HAND2)
#define _CritGetItemArmor       #(cr) cr.GetItem(ItemProperty::CritSlot, SLOT_ARMOR)
#define _CritCanDropItemsOnDead #(cr)(!cr.IsNoSteal && !cr.IsNoDrop)

// Parameters
#define _CritIsInjured     #(cr)(cr.IsDamagedEye || cr.IsDamagedRightArm || cr.IsDamagedLeftArm || cr.IsDamagedRightLeg || cr.IsDamagedLeftLeg)
#define _CritFingersDoorId #(critterId)(0x80000000 |(critterId))
#define _CritEyesDoorId    #(critterId)(0x40000000 |(critterId))

// Npc planes
#define _NpcEraseFirstPlane       #(npc) NpcPlanes::ErasePlane(npc, - 1, false)
#define _NpcEraseAllPlanes        #(npc) NpcPlanes::ErasePlane(npc, - 1, true)
#define _NpcEraseFirstPlaneWalk   #(npc) NpcPlanes::ErasePlane(npc, AI_PLANE_WALK, false)
#define _NpcEraseAllPlanesWalk    #(npc) NpcPlanes::ErasePlane(npc, AI_PLANE_WALK, true)
#define _NpcEraseFirstPlaneAttack #(npc) NpcPlanes::ErasePlane(npc, AI_PLANE_ATTACK, false)
#define _NpcEraseAllPlanesAttack  #(npc) NpcPlanes::ErasePlane(npc, AI_PLANE_ATTACK, true)
#define _NpcEraseFirstPlanePick   #(npc) NpcPlanes::ErasePlane(npc, AI_PLANE_PICK, false)
#define _NpcEraseAllPlanesPick    #(npc) NpcPlanes::ErasePlane(npc, AI_PLANE_PICK, true)

// Weapon
#define _WeaponIsHtHAttack \
#(item, use)(_WeaponSkill(item, use) == CritterProperty::SkillUnarmed || _WeaponSkill(item, use) == CritterProperty::SkillMeleeWeapons)
#define _WeaponIsGunAttack \
#(item, use)(_WeaponSkill(item, use) == CritterProperty::SkillSmallGuns || _WeaponSkill(item, use) == CritterProperty::SkillBigGuns || \
                                                                                            _WeaponSkill(item, use) == CritterProperty::SkillEnergyWeapons)
#define _WeaponIsRangedAttack       #(item, use)(_WeaponIsGunAttack(weap, use) || _WeaponSkill(item, use) == CritterProperty::SkillThrowing)
#define _WeaponIsPrimaryAvailable   #(item)((item.Weapon_ActiveUses & 1) != 0)
#define _WeaponIsSecondaryAvailable #(item)((item.Weapon_ActiveUses & 2) != 0)
#define _WeaponIsThirdAvailable     #(item)((item.Weapon_ActiveUses & 4) != 0)
#define _WeaponSkill \
#(item, use)((use) == 0 ? item.Weapon_Skill_0 : ((use) == 1 ? item.Weapon_Skill_1 : ((use) == 2 ? item.Weapon_Skill_2 : CritterProperty::Invalid)))
#define _WeaponDmgType  #(item, use)((use) == 0 ? item.Weapon_DmgType_0 : ((use) == 1 ? item.Weapon_DmgType_1 : ((use) == 2 ? item.Weapon_DmgType_2 : 0)))
#define _WeaponAnim2    #(item, use)((use) == 0 ? item.Weapon_Anim2_0 : ((use) == 1 ? item.Weapon_Anim2_1 : ((use) == 2 ? item.Weapon_Anim2_2 : Anim2::None)))
#define _WeaponDmgMin   #(item, use)((use) == 0 ? item.Weapon_DmgMin_0 : ((use) == 1 ? item.Weapon_DmgMin_1 : ((use) == 2 ? item.Weapon_DmgMin_2 : 0)))
#define _WeaponDmgMax   #(item, use)((use) == 0 ? item.Weapon_DmgMax_0 : ((use) == 1 ? item.Weapon_DmgMax_1 : ((use) == 2 ? item.Weapon_DmgMax_2 : 0)))
#define _WeaponMaxDist  #(item, use)((use) == 0 ? item.Weapon_MaxDist_0 : ((use) == 1 ? item.Weapon_MaxDist_1 : ((use) == 2 ? item.Weapon_MaxDist_2 : 0)))
#define _WeaponEffect   #(item, use)((use) == 0 ? item.Weapon_Effect_0 : ((use) == 1 ? item.Weapon_Effect_1 : ((use) == 2 ? item.Weapon_Effect_2 : 0)))
#define _WeaponRound    #(item, use)((use) == 0 ? item.Weapon_Round_0 : ((use) == 1 ? item.Weapon_Round_1 : ((use) == 2 ? item.Weapon_Round_2 : 0)))
#define _WeaponApCost   #(item, use)((use) == 0 ? item.Weapon_ApCost_0 : ((use) == 1 ? item.Weapon_ApCost_1 : ((use) == 2 ? item.Weapon_ApCost_2 : 0)))
#define _WeaponSoundId  #(item, use)((use) == 0 ? item.Weapon_SoundId_0 : ((use) == 1 ? item.Weapon_SoundId_1 : ((use) == 2 ? item.Weapon_SoundId_2 : 0)))
#define _WeaponRemove   #(item, use)((use) == 0 ? item.Weapon_Remove_0 : ((use) == 1 ? item.Weapon_Remove_1 : ((use) == 2 ? item.Weapon_Remove_2 : false)))
#define _WeaponAim      #(item, use)((use) == 0 ? item.Weapon_Aim_0 : ((use) == 1 ? item.Weapon_Aim_1 : ((use) == 2 ? item.Weapon_Aim_2 : false)))
#define _WeaponPicUse   #(item, use)((use) == 0 ? item.Weapon_PicUse_0 : ((use) == 1 ? item.Weapon_PicUse_1 : ((use) == 2 ? item.Weapon_PicUse_2 : 0)))
#define _WeaponModeUse  #(weaponMode)((weaponMode) & 0xF)
#define _WeaponModeAim  #(weaponMode)(((weaponMode)>> 4) & 0xF)
#define _WeaponModeMake #(use, aim)((((aim) << 4) |((use) & 0xF)) & 0xFF)

// Light
#define _LightIsIgnoreDir         #(lightItem, dir)(FLAG(lightItem.LightFlags, 1 << CLAMP(dir, 0, 5)))
#define _LightSetIgnoreDir        #(lightItem, dir)(SETFLAG(lightItem.LightFlags, 1 << CLAMP(dir, 0, 5)))
#define _LightUnsetIgnoreDir      #(lightItem)(UNSETFLAG(lightItem.LightFlags, 1 << CLAMP(dir, 0, 5)))
#define _LightIsGlobal            #(lightItem)(FLAG(lightItem.LightFlags, 1 << 6))
#define _LightSetGlobal           #(lightItem)(SETFLAG(lightItem.LightFlags, 1 << 6))
#define _LightUnsetGlobal         #(lightItem)(UNSETFLAG(lightItem.LightFlags, 1 << 6))
#define _LightIsInverse           #(lightItem)(FLAG(lightItem.LightFlags, 1 << 7))
#define _LightSetInverse          #(lightItem)(SETFLAG(lightItem.LightFlags, 1 << 7))
#define _LightUnsetInverse        #(lightItem)(UNSETFLAG(lightItem.LightFlags, 1 << 7))

#define AI_PLANE_PATROL_PRIORITY  (25)
#define AI_PLANE_COURIER_PRIORITY (30)
#define AI_PLANE_PATROL           (4)
#define AI_PLANE_COURIER          (5)

///@ Property Critter Protected        uint[]   HoloInfo

///@ Property Item Public bool IsHolodisk
///@ Property Item Protected        uint   HolodiskNum

///@ Property Critter PrivateServer hstring[] FavoriteItemPid
///@ Property Critter Protected bool IsNoFavoriteItem
///@ Property Critter Protected int   Level
///@ Property Critter Protected int   KarmaVoting
///@ Property Critter Protected bool IsNoPvp
///@ Property Critter Protected bool IsEndCombat
///@ Property Critter Protected bool IsDlgScriptBarter
///@ Property Critter Protected bool IsUnlimitedAmmo
///@ Property Critter Protected bool IsNoDrop
///@ Property Critter Protected bool IsNoLooseLimbs
///@ Property Critter Protected bool IsDeadAges
///@ Property Critter Protected bool IsNoHeal
///@ Property Critter Protected bool IsInvulnerable
///@ Property Critter Protected bool IsSpecialDead
///@ Property Critter Protected bool IsRangeHth
///@ Property Critter Protected bool IsNoKnock
///@ Property Critter Protected bool IsNoSupply
///@ Property Critter Protected bool IsNoKarmaOnKill
///@ Property Critter Protected bool IsBarterOnlyCash

// 671
#define SKILL_LOOT_CRITTER CritterProperty(-6)
#define SKILL_PUSH_CRITTER CritterProperty(-7)
// 672
// возможно это уже не потребуется
#define IS_TURN_BASED_TIMEOUT #(cr)(cr.TimeoutBattle> GetFullSecond() && cr.TimeoutBattle - GetFullSecond()> 10000000)

// 672
// Skills
#define MAX_SKILL_VAL (Settings.SkillMaxValue)

// Special skill values
#define SKILL_PICK_ON_GROUND CritterProperty(-1)
#define SKILL_PUT_CONT       CritterProperty(-2)
#define SKILL_PUT_ALL_CONT   CritterProperty(-3)
#define SKILL_TAKE_CONT      CritterProperty(-4)
#define SKILL_TAKE_ALL_CONT  CritterProperty(-5)
#define SKILL_TALK           CritterProperty(-8)

// Transfer types
///@ Enum TransferTypes Close = 0
///@ Enum TransferTypes HexContUp = 1
///@ Enum TransferTypes HexContDown = 2
///@ Enum TransferTypes SelfCont = 3
///@ Enum TransferTypes CritLoot = 4
///@ Enum TransferTypes CritSteal = 5
///@ Enum TransferTypes CritBarter = 6
///@ Enum TransferTypes FarCont = 7
///@ Enum TransferTypes FarCrit = 8

///@ Property Critter Protected        uint  FreeBarterPlayer
///@ Property Critter VirtualPrivateServer int BarterCoefficient
///@ Property Critter Protected        TransferTypes      TransferType
///@ Property Critter Protected        uint     TransferContainerId

///@ Property Critter Public    bool IsNoBarter

// 675

///@ Property Critter Public    bool IsNoSteal
///@ Property Critter Public    bool IsNoLoot
///@ Property Critter Protected bool IsNoPush
///@ Property Critter VirtualProtected uint ItemsWeight
///@ Property Item Public bool IsNoLoot
///@ Property Item Public bool IsNoSteal

///@ Property Item Public           int    Val0
///@ Property Item Public           int    Val1
///@ Property Item Public           int    Val2
///@ Property Item Public           int    Val3
///@ Property Item Public           int    Val4
///@ Property Item Public           int    Val5
///@ Property Item Public           int    Val6
///@ Property Item Public           int    Val7
///@ Property Item Public           int    Val8
///@ Property Item Public           int    Val9

///@ Property Item Public string ScriptModule
///@ Property Item Public string ScriptFunc
///@ Property Item Protected        uint8  BrokenFlags

///@ Property Item Protected        uint   Cost

// 683
// Sound types
// Generic <Type Subtype SoundId SoundIdExt X X X X>
// Weapon <Type Subtype SoundId SoundIdExt X X X [Random 1 or 2]>
#define SOUND_WEAPON        'W'
#define SOUND_WEAPON_USE    'A'
#define SOUND_WEAPON_FLY    'F'
#define SOUND_WEAPON_MISS   'H'
#define SOUND_WEAPON_EMPTY  'O'
#define SOUND_WEAPON_RELOAD 'R'
// Door <Type Subtype D O O R S SoundId>
#define SOUND_DOOR          'S'
#define SOUND_DOOR_OPEN     'O'
#define SOUND_DOOR_LOCK     'L'
#define SOUND_DOOR_CLOSE    'C'
#define SOUND_DOOR_NOT_OPEN 'N'

///@ Property Item Public uint8  SoundId
///@ Property Item Public uint8  Material

// Old global vars
///@ Setting int ApCostAimArms
///@ Setting int ApCostAimEyes
///@ Setting int ApCostAimGroin
///@ Setting int ApCostAimHead
///@ Setting int ApCostAimLegs
///@ Setting int ApCostAimTorso
///@ Setting int ApRegeneration
///@ Setting int FixBoyDefaultExperience
///@ Setting uint GlobalMapMoveTime
///@ Setting int LevelCap
///@ Setting bool LevelCapAddExperience
///@ Setting bool LoggingVars
///@ Setting int LookNormal
///@ Setting int LookWeight
///@ Setting int ReputationAccepted
///@ Setting int ReputationAntipathy
///@ Setting int ReputationLiked
///@ Setting int ReputationHated
///@ Setting int ReputationLoved
///@ Setting int ReputationNeutral
///@ Setting int RtApCostCritterRun
///@ Setting int RtApCostCritterWalk
///@ Setting int RtApCostDropItem
///@ Setting int RtApCostMoveItemContainer
///@ Setting int RtApCostMoveItemInventory
///@ Setting int RtApCostPickCritter
///@ Setting int RtApCostPickItem
///@ Setting int RtApCostReloadWeapon
///@ Setting int RtApCostUseItem
///@ Setting int RtApCostUseSkill
///@ Setting int SkillMaxValue
///@ Setting int SkillModAdd2
///@ Setting int SkillModAdd3
///@ Setting int SkillModAdd4
///@ Setting int SkillModAdd5
///@ Setting int SkillModAdd6
///@ Setting int StartSpecialPoints
///@ Setting int StartTagSkillPoints
///@ Setting bool Singleplayer
///@ Setting bool AlwaysRun
///@ Setting uint AlwaysRunMoveDist     = 1
///@ Setting uint AlwaysRunUseDist      = 5

///@ Property Critter VirtualProtected int  ActionPoints
///@ Property Critter PrivateCommon int CurrentAp

#define AP_DIVIDER (100)

// In SendMessage
#define MESSAGE_TO_WHO_SEES_ME (0) // Отослать сообщения всем кто видет криттера.
#define MESSAGE_TO_I_SEE       (1) // Отослать сообщения всем кого видит криттер.
#define MESSAGE_TO_ALL_ON_MAP  (2) // Отослать всем на карте.

///@ Property Critter Protected        int   BagId

#define MAX #(a, b)(((a)>(b)) ?(a) : (b))

// все это скорее всего не работает
///@ Property Item Protected        hstring AmmoPid
///@ Property Item Protected        uint    AmmoCount
///@ Property Critter PrivateServer uint    LastWeaponId

#define IS_DIALOG_GENERATED #(str)(str == "" && str.length() == 0)
#define IS_DIALOG_SAY_MODE  #(str)(str.length()> 0)
#define IS_DIALOG_END       #(str)(str.isEmpty())

///@ Setting int TimeMultiplier
///@ Setting string ValidNameLettersCommon
///@ Setting string ValidNameLettersCulture1
///@ Setting string ValidNameLettersCulture2

#define NUMERICAL_NUMBER #(num)(((num) % 2) != 0 ?(num) *((num) / 2 + 1) : (num) *(num) / 2 +(num) / 2)
#define MIN              #(a, b)(((a) <(b)) ?(a) : (b))
#define MAX              #(a, b)(((a)>(b)) ?(a) : (b))
#define CLAMP            #(x, low, high)(((x)>(high)) ?(high) : (((x) <(low)) ?(low) : (x)))
#define ABS              #(val)(((val)> 0) ?(val) : -(val))
#define DISTANCE         #(x1, y1, x2, y2)(sqrt(POW2((x1) -(x2)) + POW2((y1) -(y2))))
#define POW2             #(a)((a) *(a))
#define POW3             #(a)((a) *(a) *(a))
#define POW              #(x, y) for (int ___i = 1, ___j = x; ___i <y; ___i ++) x *= ___j

///@ Property Critter ProtectedModifiable hstring HandsItemProtoId
///@ Property Critter ProtectedModifiable uint8 HandsItemMode
///@ Property Item Public bool IsCanUseOnSmth
///@ Property Item Public bool IsCanUse
///@ Property Item Public bool IsCanPickUp
///@ Property Item PrivateServer    uint   LastUsedTime
///@ Property Critter PrivateServer    uint8 LastWeaponUse
///@ Property Critter Protected bool IsNoItemGarbager
///@ Property Item PrivateServer    bool   IsQuestItem
///@ Property Item Protected        uint8  Indicator
///@ Property Item Public uint8  IndicatorMax
///@ Property Item Protected        uint16 Charge
// items
///@ Property Item Public bool IsCanLook
///@ Property Item Public bool IsWallTransEnd
///@ Property Item Public bool IsHasTimer
///@ Property Item Public bool IsBigGun
///@ Property Item Public bool IsMultiHex
// child
///@ Property Item Public hstring   ChildPid_0
///@ Property Item Public hstring   ChildPid_1
///@ Property Item Public hstring   ChildPid_2
///@ Property Item Public hstring   ChildPid_3
///@ Property Item Public hstring   ChildPid_4
///@ Property Item Public string ChildLines_0
///@ Property Item Public string ChildLines_1
///@ Property Item Public string ChildLines_2
///@ Property Item Public string ChildLines_3
///@ Property Item Public string ChildLines_4

#define SLOT_GROUND (255) // Ground slot, used when critter drop/pick item

// Items types
///@ Enum ItemType None = 0
///@ Enum ItemType Armor = 1
///@ Enum ItemType Drug = 2
///@ Enum ItemType Weapon = 3
///@ Enum ItemType Ammo = 4
///@ Enum ItemType Misc = 5
///@ Enum ItemType Key = 7
///@ Enum ItemType Container = 8
///@ Enum ItemType Door = 9
///@ Enum ItemType Grid = 10
///@ Enum ItemType Generic = 11
///@ Enum ItemType Wall = 12
///@ Enum ItemType Car = 13

#define ENTRY_DEFAULT      (hstring("0"))
#define ENTRY_PLAYER_START (hstring("240"))
#define ENTRY_NO_LOG_OFF   (hstring("241"))
#define ENTRY_REPLICATION  (hstring("242"))
#define ENTRY_CAR          (hstring("243"))
#define ENTRY_CAR_CRITTERS (hstring("244"))
#define ENTRY_BIG_CAR      (hstring("245"))

///@ Property Item Public ItemType Type
///@ Property Item PrivateServer    int    TriggerNum
///@ Property Item Public bool Container_MagicHandsGrnd
///@ Property Item Public int Grid_Type
///@ Property Item PrivateServer hstring Grid_ToMap
///@ Property Item PrivateServer hstring Grid_ToMapEntry
///@ Property Item PrivateServer uint8 Grid_ToMapDir
///@ Property Item PrivateServer int[] SceneryParams

///@ Property Critter Protected bool IsNoWalkBase
///@ Property Critter Protected bool IsNoRunBase

// SayTypeExtended
const int SayEncounterAny = 14; // Activate dialog box on global map, using before encounter
const int SayEncounterRt = 15;  // Activate dialog box on global map, using before encounter
#define SAY_ENCOUNTER_TB (16)   // Activate dialog box on global map, using before encounter
#define SAY_FIX_RESULT   (17)
const int SayDialogboxText = 18;
#define SAY_DIALOGBOX_BUTTON #(b)(19 +(b)) // Max 20 buttons (0..19)
const int SaySayTitle = 39;
const int SaySayText = 40;

// Dialogboxes
const int DialogboxNcrIllBrahmin = 1;   // диалог из NcrCommon
const int DialogboxPurgatoryInvite = 2; // Диалог Чистилища

// Tactics
#define CRTYPE_TACTICS_RHUMANOID (hstring("RHumanoid"))
//	Line 368:   460    RHumanoid             316  0  2  1  1  1  0  1   1 0 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0    400  200   0  0  RHumanoidU

// Global map events
const int GlobalProcessMove = 0; // Called every Settings.GlobalMapMoveTime
const int GlobalProcessEnter = 1;
const int GlobalProcessStartFast = 2;
const int GlobalProcessStart = 3;
const int GlobalProcessSetMove = 4;
const int GlobalProcessStopped = 5;
const int GlobalProcessNpcIdle = 6; // Called every Settings.CritterIdleTick
const int GlobalProcessKick = 7;

#define GLOBAL_MAP_BASE_SPEED (2.4f) // Base speed, 2.4 pixels per second

// Global map walk types
const int GmWalkGround = 0;
const int GmWalkFly = 1;
const int GmWalkWater = 2;

// Клиент реорганизация

#ifdef __CLIENT

// 6 uint parameters, separated by commas
// Chosen actions
const int ChosenMove = 1;             // HexX, HexY, Is run, Cut path, Wait double click, Double click tick
const int ChosenMoveToCrit = 2;       // Critter id, None, Is run, Cut path, Wait double click, Double click tick
const int ChosenDir = 3;              // 0 (CW) or 1 (CCW)
const int ChosenUseItem = 6;          // Item id, Item pid, Target type (see below), Target id, Item mode (see below), Some param (timer)
const int ChosenMoveItem = 7;         // Item id, Item count, To slot, Is barter container, Is second try
const int ChosenMoveItemCont = 8;     // From container, Item id, Count
const int ChosenTakeAll = 9;          //
const int ChosenPutAll = 10;          //
const int ChosenUseSklOnCritter = 11; // Skill, Critter id
const int ChosenUseSklOnItem = 12;    // Is inventory, Skill index (SK_*), Item id
const int ChosenUseSklOnScen = 13;    // Skill, Pid, HexX, HexY
const int ChosenTalkNpc = 14;         // Critter id
const int ChosenPickItem = 15;        // Pid, HexX, HexY
const int ChosenPickCrit = 16;        // Critter id, (loot - 0, push - 1)
const int ChosenSneak = 17;

#endif

int[] GetCritPropArray(dict<CritterProperty, int> props)
{
    int[] propsArr = {};
    for (uint i = 0, l = props.length(); i < l; i++) {
        propsArr.insertLast(props.getKey(i));
        propsArr.insertLast(props.getValue(i));
    }
    return propsArr;
}

dict<CritterProperty, int> GetCritPropsDict(int[] props)
{
    dict<CritterProperty, int> propsDict = {};

    for (uint i = 0; i < props.length(); i += 2) {
        propsDict[CritterProperty(props[i])] = props[i + 1];
    }

    return propsDict;
}

#define REAL_MS     #(x)(Time::RealMs(x))
#define REAL_SECOND #(x)(Time::RealSecond(x))
#define REAL_MINUTE #(x)(Time::RealMinute(x))
#define REAL_HOUR   #(x)(Time::RealHour(x))
#define REAL_DAY    #(x)(Time::RealDay(x))
#define REAL_MONTH  #(x)(Time::RealMonth(x))
#define REAL_YEAR   #(x)(Time::RealYear(x))

#ifdef __SERVER

/*
   void NpcPlaneBegin ( Critter cr, int planeId, int reason, Critter someCr, Item someItem )
   {
        NpcPlanes::NpcPlane plane = NpcPlanes::GetCritterPlane(cr, planeId);

        GameInstance.OnNpcPlaneBegin.Fire(cr, plane, reason, someCr, someItem);
   }

   void NpcPlaneEnd( Critter cr, int planeId, int reason, Critter someCr, Item someItem )
   {
        NpcPlanes::NpcPlane plane = NpcPlanes::GetCritterPlane(cr, planeId);

        GameInstance.OnNpcPlaneEnd.Fire(cr, plane, reason, someCr, someItem);
   }

   void NpcPlaneRun( Critter cr, int planeId, int reason, uint result0, uint result1, uint result2 )
   {
        NpcPlanes::NpcPlane plane = NpcPlanes::GetCritterPlane(cr, planeId);

        GameInstance.OnNpcPlaneRun.Fire(cr, plane, reason, result0, result1, result2);
   }
 */

/*void GlobalMapProcess( int type, Critter cr, Item car, float x, float y, float toX, float toY, float speed, uint encounterDescriptor, bool waitForAnswer )
   {
        GameInstance.OnGlobalMapProcessEx.Fire(type, cr, car, x, y, toX, toY, speed, encounterDescriptor, waitForAnswer);
   }*/

#endif

AbstractItem GetConstItemBySlot(Critter cr, int slot)
{
    Item item = cr.GetItem(ItemProperty::CritSlot, slot);
    if (item == null) {
        if (slot == SLOT_ARMOR)
            return GetItemProto(hstring("default_armor"));
        if (slot == SLOT_HAND1 || slot == SLOT_HAND2)
            return GetItemProto(hstring("default_weapon"));
    }
    return item;
}
